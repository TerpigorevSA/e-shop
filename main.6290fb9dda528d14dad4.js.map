{"version":3,"file":"main.6290fb9dda528d14dad4.js","mappings":"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","sources":["webpack://e-shop/./src/app/index.scss","webpack://e-shop/./src/app/index.scss?3680","webpack://e-shop/./src/shared/configs/api.ts","webpack://e-shop/./src/shared/lib/localStorage.ts","webpack://e-shop/./src/shared/actions/actions.ts","webpack://e-shop/./src/features/Auth/model/slice.ts","webpack://e-shop/./src/shared/configs/routes.ts","webpack://e-shop/./src/shared/lib/errorsCast.ts","webpack://e-shop/./src/shared/types/serverTypes.ts","webpack://e-shop/./src/shared/lib/errorsParsing.ts","webpack://e-shop/./src/shared/lib/errorsToStrings.ts","webpack://e-shop/./src/shared/lib/navigationService.ts","webpack://e-shop/./src/shared/api/customBaseQuery.ts","webpack://e-shop/./src/shared/api/baseApi.ts","webpack://e-shop/./src/features/Auth/api/authApi.ts","webpack://e-shop/./src/features/Auth/model/useAuth.ts","webpack://e-shop/./src/shared/ui/Loader/Loader.tsx","webpack://e-shop/./src/shared/ui/Loader/Loader.module.scss?cd15","webpack://e-shop/./src/pages/AuthScreen/SignIn/SignIn.module.scss?ab5f","webpack://e-shop/./src/shared/ui/Button/Button.module.scss?cc91","webpack://e-shop/./src/shared/ui/Button/Button.tsx","webpack://e-shop/./src/pages/AuthScreen/SignIn/SignIn.tsx","webpack://e-shop/./src/pages/AuthScreen/SignOut/SignOut.tsx","webpack://e-shop/./src/pages/AuthScreen/SignUp/SignUp.module.scss?ba80","webpack://e-shop/./src/pages/AuthScreen/SignUp/SignUp.tsx","webpack://e-shop/./src/pages/AuthScreen/AuthScreen.tsx","webpack://e-shop/./src/pages/AuthScreen/AuthScreen.module.scss?efbc","webpack://e-shop/./src/app/Layout/Layout.module.scss?e0bf","webpack://e-shop/./src/features/Cart/ui/CartIndicator/CartIndicator.tsx","webpack://e-shop/./src/features/Cart/ui/CartIndicator/CartIndicator.module.scss?15d3","webpack://e-shop/./src/shared/ui/Header/Header.tsx","webpack://e-shop/./src/shared/ui/Header/Header.module.scss?045a","webpack://e-shop/./src/shared/ui/LanguageSwitcher/LanguageSwitcher.module.scss?88e2","webpack://e-shop/./src/app/localization/settings.ts","webpack://e-shop/./src/shared/contexts/LanguageContext/LanguageContext.tsx","webpack://e-shop/./src/shared/ui/LanguageSwitcher/LanguageSwitcher.tsx","webpack://e-shop/./src/shared/ui/Logo/Logo.tsx","webpack://e-shop/./src/shared/ui/Logo/Logo.module.scss?631c","webpack://e-shop/./src/shared/ui/NavigationBar/NavigationBar.module.scss?f192","webpack://e-shop/./src/shared/hocs/withAuthenticationState.tsx","webpack://e-shop/./src/shared/ui/NavigationBar/NavigationBar.tsx","webpack://e-shop/./src/shared/contexts/ThemeContext/ThemeContext.tsx","webpack://e-shop/./src/shared/ui/ThemeSwitcher/ThemeSwitcher.tsx","webpack://e-shop/./src/shared/ui/ThemeSwitcher/ThemeSwitcher.module.scss?160e","webpack://e-shop/./src/app/Layout/Layout.tsx","webpack://e-shop/./src/entities/Order/ui/EditOrderItem/EditOrderItem.module.scss?3ace","webpack://e-shop/./src/entities/Order/ui/EditOrderItem/EditOrderItem.tsx","webpack://e-shop/./src/shared/ui/ComponentFetchList/ComponentFetchList.tsx","webpack://e-shop/./src/shared/hooks/useIntersectionObserver.tsx","webpack://e-shop/./src/pages/OrderScreen/OrdersEditScreen.module.scss?ebd8","webpack://e-shop/./src/entities/Order/model/OrderFilterSchema.ts","webpack://e-shop/./src/features/forms/CommonFiltersForm/CommonFiltersForm.module.scss?d138","webpack://e-shop/./src/features/forms/CommonFiltersForm/CommonFiltersFormSchema.ts","webpack://e-shop/./src/features/forms/CommonFiltersForm/CommonFiltersForm.tsx","webpack://e-shop/./src/pages/OrderScreen/OrdersFiltersForm/OrdersFiltersForm.tsx","webpack://e-shop/./src/pages/OrderScreen/OrdersFiltersForm/OrdersFiltersForm.module.scss?aa89","webpack://e-shop/./src/shared/lib/stringifyObjectHelper.ts","webpack://e-shop/./src/entities/Order/api/orderApi.ts","webpack://e-shop/./src/entities/Product/ui/OrderProductItem/OrderProductItem.tsx","webpack://e-shop/./src/entities/Product/ui/OrderProductItem/OrderProductItem.module.scss?bf9d","webpack://e-shop/./src/shared/lib/unexpectedErrorBounce.ts","webpack://e-shop/./src/shared/hooks/useDataListController.ts","webpack://e-shop/./src/shared/ui/PageLayout/PageLayout.tsx","webpack://e-shop/./src/shared/ui/PageLayout/PageLayout.module.scss?459d","webpack://e-shop/./src/features/Cart/model/slice.ts","webpack://e-shop/./src/shared/ui/Counter/Counter.module.scss?d7fd","webpack://e-shop/./src/shared/ui/Counter/Counter.tsx","webpack://e-shop/./src/features/Cart/ui/CartItem/CartItem.tsx","webpack://e-shop/./src/features/Cart/ui/CartItem/CartItem.module.scss?5a21","webpack://e-shop/./src/entities/Product/model/ProductFilterSchema.ts","webpack://e-shop/./src/pages/CatalogScreen/CatalogFiltersForm/CatalogFiltersForm.tsx","webpack://e-shop/./src/pages/CatalogScreen/CatalogFiltersForm/CatalogFiltersForm.module.scss?3162","webpack://e-shop/./src/pages/CatalogScreen/CatalogScreen.module.scss?dfab","webpack://e-shop/./src/entities/Category/api/categoryApi.ts","webpack://e-shop/./src/entities/Product/api/productApi.ts","webpack://e-shop/./src/features/Cart/ui/CartButton/CartButton.module.scss?eec5","webpack://e-shop/./src/features/Cart/ui/CartButton/CartButton.tsx","webpack://e-shop/./src/entities/Product/ui/ProductItem/ProductItem.tsx","webpack://e-shop/./src/entities/Product/ui/ProductItem/ProductItem.module.scss?0c5e","webpack://e-shop/./src/shared/lib/cutStringHelper.ts","webpack://e-shop/./src/entities/Category/model/CategoryFilterSchema.ts","webpack://e-shop/./src/pages/CategoriesScreen/CategoriesFilterForm/CategoriesFilterForm.tsx","webpack://e-shop/./src/entities/Category/ui/CategoryItem/CategoryItem.tsx","webpack://e-shop/./src/entities/Category/ui/CategoryItem/CategoryItem.module.scss?6aa9","webpack://e-shop/./src/features/forms/CategoryEditForm/CategoryEditForm.module.scss?b3bb","webpack://e-shop/./src/features/forms/CategoryEditForm/CategoryEditForm.tsx","webpack://e-shop/./src/shared/hocs/withEditMode.tsx","webpack://e-shop/./src/shared/hocs/withEditMode.module.scss?782b","webpack://e-shop/./src/shared/ui/Modal/Modal.module.scss?f380","webpack://e-shop/./src/shared/ui/Modal/Modal.tsx","webpack://e-shop/./src/pages/CategoriesScreen/CategoriesEditScreen.tsx","webpack://e-shop/./src/pages/ProductsScreen/ProductsEditScreen.module.scss?c341","webpack://e-shop/./src/pages/ProductsScreen/ProductsFiltersForm/ProductsFiltersForm.tsx","webpack://e-shop/./src/pages/ProductsScreen/ProductsFiltersForm/ProductsFiltersForm.module.scss?ba11","webpack://e-shop/./src/features/forms/ProductEditForm/ProductEditForm.module.scss?f128","webpack://e-shop/./src/features/forms/ProductEditForm/ProductEditForm.tsx","webpack://e-shop/./src/pages/ProductsScreen/ProductsEditScreen.tsx","webpack://e-shop/./src/pages/ProfileScreen/ChangePassword/ChangePassword.module.scss?7e80","webpack://e-shop/./src/pages/ProfileScreen/ChangePassword/ChangePassword.tsx","webpack://e-shop/./src/pages/ProfileScreen/EditProfile/EditProfile.module.scss?1fc8","webpack://e-shop/./src/pages/ProfileScreen/EditProfile/EditProfile.tsx","webpack://e-shop/./src/entities/Profile/api/profileApi.ts","webpack://e-shop/./src/pages/ProfileScreen/ProfileScreen.tsx","webpack://e-shop/./src/pages/RootScreen/RootScreen.module.scss?0ad4","webpack://e-shop/./src/pages/UserOrdersScreen/UserOrdersFiltersForm/UserOrdersFiltersForm.tsx","webpack://e-shop/./src/pages/UserOrdersScreen/UserOrdersFiltersForm/UserOrdersFiltersForm.module.scss?a5a0","webpack://e-shop/./src/pages/UserOrdersScreen/UserOrdersScreen.module.scss?a308","webpack://e-shop/./src/entities/Order/ui/OrderItem/OrderItem.module.scss?5e50","webpack://e-shop/./src/entities/Order/ui/OrderItem/OrderItem.tsx","webpack://e-shop/./src/app/menu/menuItems.tsx","webpack://e-shop/./src/pages/RootScreen/RootScreen.tsx","webpack://e-shop/./src/pages/CatalogScreen/CatalogScreen.tsx","webpack://e-shop/./src/pages/CartScreen/CartScreen.tsx","webpack://e-shop/./src/pages/CartScreen/CartScreen.module.scss?c2fc","webpack://e-shop/./src/pages/UserOrdersScreen/UserOrdersScreen.tsx","webpack://e-shop/./src/pages/OrderScreen/OrdersEditScreen.tsx","webpack://e-shop/./src/pages/CategoriesScreen/CategoriesEditScreen.module.scss?bf0b","webpack://e-shop/./src/pages/ProfileScreen/ProfileScreen.module.scss?8166","webpack://e-shop/./src/app/providers/ErrorBoundary.tsx","webpack://e-shop/./src/app/providers/NavigationProvider.tsx","webpack://e-shop/./src/app/api/api.ts","webpack://e-shop/./src/app/store/store.ts","webpack://e-shop/./src/shared/providers/LanguageProvider/LanguageProvider.tsx","webpack://e-shop/./src/shared/providers/ThemeProvider/ThemeProvider.tsx","webpack://e-shop/./src/index.tsx","webpack://e-shop/./src/app/App.tsx","webpack://e-shop/./src/app/services/setupAuthSync.ts","webpack://e-shop/./src/app/App.module.scss?c9e0"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `body{margin:0;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen,Ubuntu,Cantarell,\"Fira Sans\",\"Droid Sans\",\"Helvetica Neue\",sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}code{font-family:source-code-pro,Menlo,Monaco,Consolas,\"Courier New\",monospace}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/index.scss\"],\"names\":[],\"mappings\":\"AAAA,KACE,QAAA,CACA,2IAAA,CAEA,kCAAA,CACA,iCAAA,CAGF,KACE,yEAAA\",\"sourcesContent\":[\"body {\\n  margin: 0;\\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,\\n    'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\ncode {\\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./index.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./index.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","export const API_BASE_URL = 'https://19429ba06ff2.vps.myjino.ru';\nexport const COMMAND_ID = '6d4672bc-6245-4b6b-a4c4-acdb6cf3fc89';\n","export const TOKEN_KEY = 'auth_token';\n\nexport const getTokenFromLocalStorage = () => {\n  return localStorage.getItem(TOKEN_KEY);\n};\n\nexport const saveTokenToLocalStorage = (token: string) => {\n  localStorage.setItem(TOKEN_KEY, token);\n};\n\nexport const removeTokenFromLocalStorage = () => {\n  localStorage.removeItem(TOKEN_KEY);\n};\n\nexport const getAccessToken = () => {\n  return localStorage.getItem(TOKEN_KEY);\n};\n\nexport const saveToken = (token: string) => {\n  localStorage.setItem(TOKEN_KEY, token);\n};\n\nexport const clearToken = () => {\n  localStorage.removeItem(TOKEN_KEY);\n};\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const resetState = createAction('app/resetState');\n","import { createSlice } from '@reduxjs/toolkit';\nimport { clearToken } from 'src/shared/lib/localStorage';\nimport { resetState } from '../../../shared/actions/actions';\n\ninterface AuthState {\n  token: string | null;\n  isAuthenticated: boolean;\n}\n\nconst initialState: AuthState = {\n  token: null,\n  isAuthenticated: false,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    setAuthenticated: (state, action) => {\n      state.token = action.payload;\n      state.isAuthenticated = !!action.payload;\n    },\n    signout: (state) => {\n      state.token = null;\n      state.isAuthenticated = false;\n      clearToken();\n    },\n    // setUnauthenticated: (state) => {\n    //   state.token = null;\n    //   state.isAuthenticated = false;\n    // },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(resetState, () => initialState);\n    // .addCase(signin.pending, (state) => {\n    //   state.status = 'loading';\n    //   state.isAuthenticated = false;\n    //   state.error = null;\n    // })\n    // .addCase(signin.fulfilled, (state, action) => {\n    //   state.status = 'succeeded';\n    //   state.token = action.payload.token;\n    //   state.isAuthenticated = true;\n    // })\n    // .addCase(signin.rejected, (state, action) => {\n    //   state.status = 'failed';\n    //   state.isAuthenticated = false;\n    //   state.error = action.payload as string;\n    // })\n    // .addCase(signup.pending, (state) => {\n    //   state.status = 'loading';\n    //   state.isAuthenticated = false;\n    //   state.error = null;\n    // })\n    // .addCase(signup.fulfilled, (state, action) => {\n    //   state.status = 'succeeded';\n    //   state.token = action.payload.token;\n    //   state.isAuthenticated = true;\n    // })\n    // .addCase(signup.rejected, (state, action) => {\n    //   state.status = 'failed';\n    //   state.error = action.payload as string;\n    //   state.isAuthenticated = false;\n    // })\n    // .addCase(signout.fulfilled, (state) => {\n    //   state.token = null;\n    //   state.isAuthenticated = false;\n    //   state.status = 'idle';\n    // });\n  },\n});\n\nexport const { setAuthenticated, signout } = authSlice.actions;\nexport default authSlice.reducer;\n","export const ROUTES = {\n  ROOT: '/',\n  SIGNIN: '/auth/SignIn',\n  AUTHENTICATED_SIGNIN: '/__signIn',\n};\n","import { ServerErrors } from '../types/serverTypes';\n\nexport const isServerError = (error: unknown): error is ServerErrors => {\n  return (\n    typeof error === 'object' &&\n    error !== null &&\n    'errors' in error &&\n    Array.isArray((error as ServerErrors).errors)\n  );\n};\n\nexport const isNumber = (value: unknown): value is number => {\n  return typeof value === 'number';\n};\n\nexport const canCastToExtendedFetchError = (\n  value: unknown,\n): value is { status: string; error: string } => {\n  return typeof value === 'object' && value !== null && 'status' in value && 'error' in value;\n};\n\nexport const canCastToFetchError = (value: unknown): value is { status: number; data: unknown } => {\n  return typeof value === 'object' && value !== null && 'status' in value && 'data' in value;\n};\n","export enum ErrorCode {\n  ERR_INCORRECT_EMAIL_OR_PASSWORD = 'ERR_INCORRECT_EMAIL_OR_PASSWORD', // Если не корректный email или пароль\n  ERR_ACCOUNT_ALREADY_EXIST = 'ERR_ACCOUNT_ALREADY_EXIST', // При регистрации если пользователь уже существует\n  ERR_FIELD_REQUIRED = 'ERR_FIELD_REQUIRED', // Обязательное поле. В ошибке будет дополнительное поле fieldName с указанием, какое конкретно поле обязательно\n  ERR_INCORRECT_PASSWORD = 'ERR_INCORRECT_PASSWORD', // Некорректный старый пароль при попытке его изменить\n  ERR_INVALID_PASSWORD = 'ERR_INVALID_PASSWORD', // Пароль не соответствует регулярному выражению /^[\\w-@{}()#$%^&*+=!~]{8,}$/\n  ERR_NOT_VALID = 'ERR_NOT_VALID', // Не валидный id сущности\n  ERR_AUTH = 'ERR_AUTH', // Токен не передан, либо не прошел авторизацию\n  ERR_NO_FILES = 'ERR_NO_FILES', // Ошибка при загрузке файлов\n  ERR_NOT_ALLOWED = 'ERR_NOT_ALLOWED', // Нет доступа к данной операции (нельзя редактировать заказ другого пользователя)\n  ERR_NOT_FOUND = 'ERR_NOT_FOUND', // Сущность не найдена\n  ERR_VALIDATION_ERROR = 'ERR_VALIDATION_ERROR', // Не валидные данные, например, не указано name\n  ERR_INVALID_QUERY_PARAMS = 'ERR_INVALID_QUERY_PARAMS', // Все GET запросы могут принимать данные запроса в search params в формате { [key: string]: string // Нужно использовать JSON.stringify() }\n\n  ERR_INTERNAL_SERVER = 'ERR_INTERNAL_SERVER', // Серверная ошибка. Обратитесь ко мне, этой ошибки быть не должно\n}\n\nexport type ServerErrors = {\n  errors: {\n    extensions: {\n      code: ErrorCode;\n    };\n\n    name: string;\n    fieldName?: string;\n    stack: string;\n    message: string;\n  }[];\n};\n\nexport type ServerError = ServerErrors['errors'] extends (infer T)[] ? T : undefined;\n\nexport type Profile = {\n  id: string;\n  name: string;\n  email: string;\n  signUpDate: unknown;\n  commandId: string;\n};\n\nexport type Category = {\n  id: string;\n  name: string;\n  photo?: string;\n  createdAt: Date;\n  updatedAt: Date;\n  commandId: string;\n};\n\nexport type Product = {\n  id: string;\n  name: string;\n  photo?: string;\n  desc?: string;\n  createdAt: Date;\n  updatedAt: Date;\n  oldPrice?: number;\n  price: number;\n  commandId: string;\n  category: Category;\n};\n\nexport type User = Partial<Profile>;\n\nexport type Order = {\n  id: string;\n  products: OrderProduct[];\n  user: User;\n  status: OrderStatus;\n  createdAt: Date;\n  updatedAt: Date;\n  commandId: string;\n};\n\nexport type OrderProduct = {\n  _id: string; // служебный id - это не id продукта\n  product: Product;\n  quantity: number;\n};\n\nexport enum OrderStatus {\n  PendingConfirmation = 'pending_confirmation',\n  Processing = 'processing',\n  Packaging = 'packaging',\n  WaitingForDelivery = 'waiting_for_delivery',\n  InTransit = 'in_transit',\n  Delivered = 'delivered',\n  ReturnRequested = 'return_requested',\n  OrderCancelled = 'order_cancelled',\n}\n\nexport type Pagination = {\n  pageSize?: number;\n  pageNumber?: number;\n};\n\nexport type Sorting = {\n  type: 'ASC' | 'DESC';\n  field: 'id' | 'createdAt' | 'updatedAt' | 'name';\n};\n\nexport type PaginationWithTotal = Pagination & {\n  total: number;\n};\n\nexport type GetPageResult<T> = {\n  data: T[];\n  pagination: PaginationWithTotal;\n  sorting: Sorting;\n};\n\nexport type DateInterval = {\n  gte?: string; // от - дата в виде строки new Date().toISOString() 2023-09-19T10:37:16.389+00:00\n  lte?: string; // до - дата в виде строки new Date().toISOString() 2023-09-19T10:37:16.389+00:00\n};\n\nexport type CommonFilters = {\n  pagination?: Pagination;\n  createdAt?: DateInterval;\n  updatedAt?: DateInterval;\n  sorting?: Sorting;\n};\n\nexport type Stringified<T> = {\n  [K in keyof T]: T[K] extends object ? string : T[K];\n};\n\nexport type ProductsFilters = CommonFilters & {\n  name?: string;\n  ids?: string[];\n  categoryIds?: string[];\n};\n\nexport type CategoriesFilters = CommonFilters & {\n  name?: string;\n  ids?: string[];\n};\n\nexport type OrdersFilters = CommonFilters & {\n  productIds?: string[];\n  userId?: string;\n  ids?: string[];\n  status?: OrderStatus;\n};\n\nexport type UserOrdersFilters = Omit<OrdersFilters, 'productIds' | 'ids' | 'status'>;\n\nexport type AuthResult = {\n  token: string;\n  profile: Profile;\n};\n\nexport type SignUpBody = {\n  email: string;\n  password: string;\n  commandId: string;\n};\n\nexport type SignInBody = {\n  email: string;\n  password: string;\n};\n\nexport type ChangePasswordBody = {\n  password: string;\n  newPassword: string;\n};\n\nexport type ChangePasswordResult = {\n  success: boolean;\n};\n\nexport type UpdateProfileBody = {\n  name: string;\n};\n\nexport type MutateRequest<T> = {\n  body: T;\n  id: string;\n};\n\nexport type MutateProductBody = Omit<\n  Product,\n  'id' | 'createdAt' | 'updatedAt' | 'commandId' | 'category'\n> & {\n  categoryId: string;\n};\n\nexport type MutateCategoryBody = Omit<Category, 'id' | 'createdAt' | 'updatedAt' | 'commandId'>;\n\nexport type MutateOrderProduct = {\n  id: string;\n  quantity: number;\n};\n\nexport type MutateOrderBody = Omit<\n  Order,\n  'id' | 'createdAt' | 'products' | 'user' | 'updatedAt' | 'commandId'\n> & {\n  products: MutateOrderProduct[];\n};\n\nexport type MutatePartProductBody = Partial<MutateProductBody>;\n\nexport type MutatePartCategoryBody = Partial<MutateCategoryBody>;\n\nexport type MutatePartOrderBody = Partial<MutateOrderBody>;\n","import { ServerError, ErrorCode } from '../types/serverTypes';\n\nexport const getLocalizedErrorMessage = (error: ServerError): string => {\n  switch (error.extensions.code) {\n    case ErrorCode.ERR_INCORRECT_EMAIL_OR_PASSWORD:\n      return 'ErrorCode.ERR_INCORRECT_EMAIL_OR_PASSWORD';\n    case ErrorCode.ERR_ACCOUNT_ALREADY_EXIST:\n      return 'ErrorCode.ERR_ACCOUNT_ALREADY_EXIST';\n    case ErrorCode.ERR_INCORRECT_PASSWORD:\n      return 'ErrorCode.ERR_INCORRECT_PASSWORD';\n    case ErrorCode.ERR_INVALID_PASSWORD:\n      return 'ErrorCode.ERR_INVALID_PASSWORD';\n    // case ErrorCode.ERR_FIELD_REQUIRED:\n    // case ErrorCode.ERR_NOT_VALID:\n    // case ErrorCode.ERR_AUTH:\n    // case ErrorCode.ERR_NO_FILES:\n    // case ErrorCode.ERR_NOT_ALLOWED:\n    // case ErrorCode.ERR_NOT_FOUND:\n    // case ErrorCode.ERR_VALIDATION_ERROR:\n    // case ErrorCode.ERR_INVALID_QUERY_PARAMS:\n    // case ErrorCode.ERR_INTERNAL_SERVER:\n    default:\n      return `${error.name}:\\t${error.message}`;\n  }\n};\n","import { isServerError } from './errorsCast';\nimport { getLocalizedErrorMessage } from './errorsParsing';\n\nexport const errorsToStrings = (error: unknown): string[] => {\n  if (isServerError(error)) {\n    error.errors.forEach((err) => {\n      console.error(`Error [${err.extensions.code}]: ${err.message} ${err?.fieldName || 'common'}`);\n      if (err.fieldName) {\n        console.error(`Field: ${err.fieldName}`);\n      }\n    });\n    return error.errors.map((error) => getLocalizedErrorMessage(error));\n  }\n\n  console.error('Unhandled error:', error);\n  return [`Unknown error: ${error}`];\n};\n","import { NavigateFunction } from 'react-router-dom';\n\nlet navigate: NavigateFunction | null = null;\n\nexport const setNavigate = (navFn: NavigateFunction) => {\n  navigate = navFn;\n};\n\nexport const navigateTo = (path: string, state?: unknown) => {\n  if (navigate) {\n    navigate(path, { state });\n  } else {\n    console.warn('Сервис не инициализирован.');\n    //throw new Error('Сервис не инициализирован.');\n  }\n};\n","// shared/api/customBaseQuery.ts\nimport { fetchBaseQuery } from '@reduxjs/toolkit/query/react';\nimport type { BaseQueryFn, FetchArgs, FetchBaseQueryError } from '@reduxjs/toolkit/query/react';\nimport { ROUTES } from '../configs/routes';\nimport { isNumber } from '../lib/errorsCast';\nimport { errorsToStrings } from '../lib/errorsToStrings';\nimport { getTokenFromLocalStorage } from '../lib/localStorage';\nimport { navigateTo } from '../lib/navigationService';\n\nconst baseQuery = fetchBaseQuery({\n  baseUrl: 'https://19429ba06ff2.vps.myjino.ru/api',\n  prepareHeaders: (headers) => {\n    const token = getTokenFromLocalStorage();\n    // debugger;\n    if (token) {\n      headers.set('Authorization', `Bearer ${token}`);\n    }\n    return headers;\n  },\n});\n\nexport const customBaseQuery: BaseQueryFn<\n  string | FetchArgs,\n  unknown,\n  FetchBaseQueryError | string[]\n> = async (args, api, extraOptions) => {\n  const result = await baseQuery(args, api, extraOptions);\n  if (result.error) {\n    const fetchError = result.error as FetchBaseQueryError;\n    console.log('fetchError', fetchError);\n    if (isNumber(fetchError.status)) {\n      if (fetchError.status === 401) {\n        navigateTo(ROUTES.AUTHENTICATED_SIGNIN);\n      }\n      if (fetchError.status === 404 || fetchError.status >= 500) {\n        // throw result.error;\n        return { error: fetchError };\n      }\n    }\n    if (fetchError.data) {\n      return { error: errorsToStrings(fetchError.data) };\n    }\n\n    return { error: ['Unknown error'] };\n  }\n\n  return result;\n};\n","import { createApi } from '@reduxjs/toolkit/query/react';\nimport { customBaseQuery } from './customBaseQuery';\n\nexport const baseApi = createApi({\n  reducerPath: '/api',\n  tagTypes: ['Profile'],\n  baseQuery: customBaseQuery,\n  endpoints: () => ({}),\n});\n","import { baseApi } from 'src/shared/api/baseApi';\nimport { AuthResult, SignInBody, SignUpBody } from 'src/shared/types/serverTypes';\n\nexport const authApi = baseApi.injectEndpoints({\n  endpoints: (builder) => ({\n    signin: builder.mutation<AuthResult, SignInBody>({\n      query: (body) => ({\n        url: '/signin',\n        method: 'POST',\n        body,\n      }),\n      invalidatesTags: ['Profile'],\n    }),\n    signup: builder.mutation<AuthResult, SignUpBody>({\n      query: (body) => ({\n        url: '/signup',\n        method: 'POST',\n        body,\n      }),\n      invalidatesTags: ['Profile'],\n    }),\n  }),\n});\n\nexport const { useSigninMutation, useSignupMutation } = authApi;\n","import { useDispatch } from 'react-redux';\nimport { COMMAND_ID } from 'src/shared/configs/api';\nimport { saveToken } from 'src/shared/lib/localStorage';\nimport { setAuthenticated, signout } from './slice';\nimport { AppDispatch } from '../../../app/store/store';\nimport { useSigninMutation, useSignupMutation } from '../api/authApi';\n\nconst useAuth = () => {\n  const dispatch: AppDispatch = useDispatch();\n  const [signin, { isLoading: isLoadingSignin, isError: isErrorSignin, error: errorSignin }] =\n    useSigninMutation();\n  const [signup, { isLoading: isLoadingSignup, isError: isErrorSignup, error: errorSignup }] =\n    useSignupMutation();\n  // const {\n  //   data: profile,\n  //   refetch,\n  //   isUninitialized,\n  // } = useGetProfileQuery(undefined, {\n  //   skip: !getAccessToken(),\n  // });\n\n  const signIn = async (email: string, password: string) => {\n    const token = await signin({ email, password });\n    if (token.data) {\n      saveToken(token.data.token);\n      dispatch(setAuthenticated(token.data.token));\n    }\n  };\n\n  const signUp = async (email: string, password: string) => {\n    const token = await signup({ email, password, commandId: COMMAND_ID });\n    if (token.data) {\n      saveToken(token.data.token);\n      dispatch(setAuthenticated(token.data.token));\n    }\n  };\n\n  const signOut = () => {\n    dispatch(signout());\n  };\n\n  return {\n    signIn,\n    signUp,\n    signOut,\n    isLoading: isLoadingSignin || isLoadingSignup,\n    isError: isErrorSignin || isErrorSignup,\n    error: [\n      ...(isErrorSignin ? (errorSignin as string[]) : []),\n      ...(isErrorSignup ? (errorSignup as string[]) : []),\n    ],\n  };\n};\n\nexport default useAuth;\n","import style from './Loader.module.scss';\n\nexport const Loader = () => {\n  return (\n    <div className={style.wrapper}>\n      <div className={style.spinner} />\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"spinner\":\"Loader-module_spinner-LrzMb\",\"spin\":\"Loader-module_spin-UdOdS\",\"wrapper\":\"Loader-module_wrapper-S2fH0\"};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SignIn-module_form-xMDwc\",\"title\":\"SignIn-module_title-Eacox\",\"label\":\"SignIn-module_label-pptK9\",\"error\":\"SignIn-module_error-FB1fs\",\"input\":\"SignIn-module_input-IfOvj\",\"textarea\":\"SignIn-module_textarea-HvMbY\",\"button\":\"SignIn-module_button-IefxO\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Button-module_wrapper-jaU5z\",\"button\":\"Button-module_button-PGwt3\",\"buttonDisable\":\"Button-module_buttonDisable-tcTuI\",\"buttonEnable\":\"Button-module_buttonEnable-Wvo8j\"};","import { FC } from 'react';\nimport cn from 'clsx';\nimport style from './Button.module.scss';\n\ntype ButtonProps = {\n  lable: string;\n  className: string;\n  onClick?: () => void;\n  disabled?: boolean;\n  type?: 'button' | 'reset' | 'submit';\n};\n\nconst Button: FC<ButtonProps> = ({\n  lable,\n  className,\n  disabled = true,\n  onClick = () => {\n    /* do nothing */\n  },\n  type = 'button',\n}) => {\n  return (\n    <div className={style.wrapper}>\n      <button\n        className={cn({\n          [style.buttonDisable]: disabled,\n          [style.buttonEnable]: !disabled,\n          [className]: !disabled,\n          [style.button]: true,\n        })}\n        disabled={disabled}\n        type={type}\n        onClick={type === 'button' ? onClick : undefined}\n      >\n        {lable}\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import React from 'react';\nimport cn from 'clsx';\nimport { useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\nimport styles from './SignIn.module.scss';\nimport Button from '../../../shared/ui/Button/Button';\n\nexport type SignInFields = {\n  email: string;\n  password: string;\n};\n\ntype SignInProps = {\n  onSubmit: (data: SignInFields, e: React.BaseSyntheticEvent | undefined) => void;\n};\nexport const SingIn: React.FC<SignInProps> = ({ onSubmit }) => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<SignInFields>();\n  const { t } = useTranslation();\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className={cn(styles.form)}>\n      <div>\n        <label className={cn(styles.label)}>{t('SignIn.email')}</label>\n        <input\n          className={cn(styles.input, { [styles.error]: errors.email })}\n          type=\"email\"\n          {...register('email', {\n            required: t('SignIn.errors.emailRequired'),\n            pattern: {\n              value: /^\\S+@\\S+$/i,\n              message: t('SignIn.errors.invalidEmail'),\n            },\n          })}\n          placeholder={t('SignIn.emailPlaceholder')}\n        />\n        {typeof errors?.email?.message === 'string' && (\n          <p className={styles.error}>{errors.email.message}</p>\n        )}\n      </div>\n      <div>\n        <label className={cn(styles.label)}>{t('SignIn.password')}</label>\n        <input\n          className={cn(styles.input, { [styles.error]: errors.password })}\n          type=\"password\"\n          {...register('password', {\n            required: t('SignIn.errors.passwordRequired'),\n          })}\n          placeholder={t('SignIn.passwordPlaceholder')}\n        />\n        {typeof errors?.password?.message === 'string' && (\n          <p className={styles.error}>{errors.password.message}</p>\n        )}\n      </div>\n      <Button className={styles.button} lable={t('SignIn.button')} type=\"submit\" disabled={false} />\n    </form>\n  );\n};\n\nexport default SingIn;\n","import React, { useEffect } from 'react';\nimport { Navigate } from 'react-router-dom';\n\ntype SignOutProps = {\n  onSignOut: () => void;\n};\n\nconst SignOut: React.FC<SignOutProps> = ({ onSignOut }) => {\n  useEffect(() => {\n    onSignOut();\n  }, []);\n  return <Navigate to=\"/\" replace />;\n};\n\nexport default SignOut;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SignUp-module_form-gWSk6\",\"title\":\"SignUp-module_title-F1Ess\",\"label\":\"SignUp-module_label-sA4I1\",\"error\":\"SignUp-module_error-SZzxU\",\"input\":\"SignUp-module_input-jkqgj\",\"textarea\":\"SignUp-module_textarea-_LPH1\",\"button\":\"SignUp-module_button-OY8i_\"};","import React from 'react';\nimport cn from 'clsx';\nimport { useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\nimport styles from './SignUp.module.scss';\nimport Button from '../../../shared/ui/Button/Button';\n\nexport type SignUpFields = {\n  email: string;\n  password: string;\n  confirmPassword: string;\n};\n\ntype SignUpProps = {\n  onSubmit: (data: SignUpFields, e: React.BaseSyntheticEvent | undefined) => void;\n};\n\nexport const SingUp: React.FC<SignUpProps> = ({ onSubmit }) => {\n  const {\n    register,\n    handleSubmit,\n    watch,\n    formState: { errors },\n  } = useForm<SignUpFields>();\n  const password = watch('password');\n  const { t } = useTranslation();\n  const passwordLength = 8;\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className={cn(styles.form)}>\n      <div>\n        <label className={styles.label}>{t('SignUp.email')}</label>\n        <input\n          className={cn(styles.input, { [styles.error]: errors.email })}\n          type=\"email\"\n          {...register('email', {\n            required: t('SignUp.errors.emailRequired'),\n            pattern: {\n              value: /^\\S+@\\S+$/i,\n              message: t('SignUp.errors.invalidEmail'),\n            },\n          })}\n          placeholder={t('SignUp.emailPlaceholder')}\n        />\n        {typeof errors?.email?.message === 'string' && (\n          <p className={styles.error}>{errors.email.message}</p>\n        )}\n      </div>\n      <div>\n        <label className={styles.label}>{t('SignUp.password')}</label>\n        <input\n          className={cn(styles.input, { [styles.error]: errors.password })}\n          type=\"password\"\n          {...register('password', {\n            required: t('SignUp.errors.passwordRequired'),\n            minLength: {\n              value: passwordLength,\n              message: t('SignUp.errors.passwordLength', { passwordLength }),\n            },\n          })}\n          placeholder={t('SignUp.passwordPlaceholder')}\n        />\n        {typeof errors?.password?.message === 'string' && (\n          <p className={styles.error}>{errors.password.message}</p>\n        )}\n      </div>\n      <div>\n        <label className={styles.label}>{t('SignUp.confirmPassword')}</label>\n        <input\n          className={cn(styles.input, { [styles.error]: errors.confirmPassword })}\n          type=\"password\"\n          {...register('confirmPassword', {\n            required: t('SignUp.errors.confirmPasswordRequired'),\n            validate: (value) => value === password || t('SignUp.errors.confirmPasswordMatch'),\n          })}\n          placeholder={t('SignUp.confirmPasswordPlaceholder')}\n        />\n        {typeof errors?.confirmPassword?.message === 'string' && (\n          <p className={styles.error}>{errors.confirmPassword.message}</p>\n        )}\n      </div>\n      <Button className={styles.button} lable={t('SignUp.button')} type=\"submit\" disabled={false} />\n    </form>\n  );\n};\nexport default SingUp;\n","import React from 'react';\nimport cn from 'clsx';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\nimport useAuth from 'src/features/Auth/model/useAuth';\nimport { Loader } from 'src/shared/ui/Loader/Loader';\nimport styles from './AuthScreen.module.scss';\nimport SignIn, { SignInFields } from './SignIn/SignIn';\nimport SignOut from './SignOut/SignOut';\nimport SignUp, { SignUpFields } from './SignUp/SignUp';\n\nexport enum AuthAction {\n  SignIn = 'signIn',\n  SignUp = 'signUp',\n  SignOut = 'signOut',\n}\n\ntype AuthScreenProps = {\n  authAction: AuthAction;\n};\n\nconst AuthScreen: React.FC<AuthScreenProps> = ({ authAction }) => {\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n\n  const { signIn, signUp, signOut, isLoading, error } = useAuth();\n\n  const handleSignInSubmit = (data: SignInFields, e: React.BaseSyntheticEvent | undefined) => {\n    e?.preventDefault();\n    signIn(data.email, data.password);\n    if (!error || error.length === 0) {\n      navigate(-1);\n    }\n  };\n  const handleSignUpSubmit = (data: SignUpFields, e: React.BaseSyntheticEvent | undefined) => {\n    e?.preventDefault();\n    signUp(data.email, data.password);\n  };\n\n  const handleSignOut = () => signOut();\n\n  if (isLoading) {\n    // return <div>{'loading'}</div>;\n    return <Loader />;\n  }\n\n  const signInContent = (\n    <>{authAction === AuthAction.SignIn && <SignIn onSubmit={handleSignInSubmit} />}</>\n  );\n  const signUpContent = (\n    <>{authAction === AuthAction.SignUp && <SignUp onSubmit={handleSignUpSubmit} />}</>\n  );\n  const signOutContent = (\n    <>{authAction === AuthAction.SignOut && <SignOut onSignOut={handleSignOut} />}</>\n  );\n\n  return (\n    <div className={cn(styles.page)}>\n      <div>\n        {signInContent}\n        {signUpContent}\n        {signOutContent}\n      </div>\n      {error && (\n        <div className={styles.error}>{(error as string[]).map((str) => t(str)).join('\\n')}</div>\n      )}\n    </div>\n  );\n};\n\nexport default AuthScreen;\n","// extracted by mini-css-extract-plugin\nexport default {\"page\":\"AuthScreen-module_page-zMGiZ\",\"error\":\"AuthScreen-module_error-lHQIo\"};","// extracted by mini-css-extract-plugin\nexport default {\"layout\":\"Layout-module_layout-CNEYr\",\"header\":\"Layout-module_header-WiSWY\",\"content\":\"Layout-module_content-RemCP\",\"item\":\"Layout-module_item-gd4xx\",\"rightWrapper\":\"Layout-module_rightWrapper-OfgHI\"};","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport style from './CartIndicator.module.scss';\nimport { RootState } from '../../../../app/store/store';\nimport cartFilledIco from '../../../../shared/assets/shopping_cart_24dp_5F6368_FILL0_wght400_GRAD0_opsz24.svg';\n\nconst CartIndicator: React.FC = () => {\n  const productsInCart = useSelector(\n    (state: RootState) => state.cart.currentCartEntries?.length ?? 0,\n  );\n\n  return (\n    <div className={style.wrapper}>\n      <img src={cartFilledIco} alt=\"cart\" className={style.image} />\n      {productsInCart > 0 && <span className={style.badge}>{productsInCart}</span>}\n    </div>\n  );\n};\n\nexport default CartIndicator;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"CartIndicator-module_wrapper-eBqaf\",\"image\":\"CartIndicator-module_image-P3JZr\",\"badge\":\"CartIndicator-module_badge-rBQwu\"};","import React, { ReactNode } from 'react';\nimport style from './Header.module.scss';\n\ntype HeaderProps = {\n  children: ReactNode;\n};\n\nconst Header: React.FC<HeaderProps> = ({ children }) => {\n  return <div className={style.header}>{children}</div>;\n};\n\nexport default Header;\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"Header-module_header-RNmb8\",\"item\":\"Header-module_item-r6DUy\",\"rightWrapper\":\"Header-module_rightWrapper-FfePe\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"LanguageSwitcher-module_wrapper-ZGK3y\",\"button\":\"LanguageSwitcher-module_button-c0qjh\"};","import i18n from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\nimport * as resources from './resources/';\n\nexport enum Languages {\n  en = 'en',\n  ru = 'ru',\n}\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    resources: {\n      en: { translation: resources.en },\n      ru: { translation: resources.ru },\n    },\n    fallbackLng: Languages.ru,\n    interpolation: {\n      format: (value, format, lng) => {\n        if (format === 'currency') {\n          const options: Intl.NumberFormatOptions = {\n            style: 'currency',\n            currency: 'RUB',\n            currencyDisplay: 'symbol',\n          };\n          return new Intl.NumberFormat(lng, options).format(value).replace('RUB', '₽');\n        }\n        if (format === 'date') {\n          const date = typeof value === 'string' ? new Date(value) : value;\n          return new Intl.DateTimeFormat(lng).format(date);\n        }\n        return value;\n      },\n      escapeValue: false,\n    },\n  });\n\nexport default i18n;\n","import { createContext, useContext } from 'react';\nimport { Languages } from '../../../app/localization/settings';\n\ntype LanguageContextProps = {\n  currentLanguage: Languages;\n  switchLanguage: (language: Languages) => void;\n};\n\nexport const LanguageContext = createContext<LanguageContextProps | undefined>(undefined);\n\nconst useLanguage = () => {\n  const context = useContext(LanguageContext);\n  if (!context) {\n    throw new Error('useLanguage must be used within a LanguageProvider');\n  }\n  return context;\n};\n\nexport default useLanguage;\n","import React from 'react';\nimport style from './LanguageSwitcher.module.scss';\nimport { Languages } from '../../../app/localization/settings';\nimport useLanguage from '../../contexts/LanguageContext/LanguageContext';\n\nconst LanguageSwitcher: React.FC = () => {\n  const { currentLanguage, switchLanguage } = useLanguage();\n\n  return (\n    <div className={style.wrapper}>\n      <button\n        className={style.button}\n        onClick={() => switchLanguage(Languages.en)}\n        hidden={currentLanguage === Languages.en}\n      >\n        English\n      </button>\n      <button\n        className={style.button}\n        onClick={() => switchLanguage(Languages.ru)}\n        hidden={currentLanguage === Languages.ru}\n      >\n        Русский\n      </button>\n    </div>\n  );\n};\n\nexport default LanguageSwitcher;\n","import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport style from './Logo.module.scss';\n\ntype LogoProps = {\n  to?: string;\n};\n\nconst Logo: React.FC<LogoProps> = ({ to }) => {\n  const navigate = useNavigate();\n  const handlerOnClick = () => (to ? navigate(to, { replace: true }) : null);\n  return (\n    <div className={style.wrapper} onClick={handlerOnClick}>\n      <div className={style.caption}>\n        <span style={{ cursor: 'pointer' }}>Logo</span>\n      </div>\n    </div>\n  );\n};\n\nexport default Logo;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Logo-module_wrapper-GfSRC\",\"caption\":\"Logo-module_caption-ICMS_\"};","// extracted by mini-css-extract-plugin\nexport default {\"navbar\":\"NavigationBar-module_navbar-pUcxv\",\"navItem\":\"NavigationBar-module_navItem-AIzLO\",\"link\":\"NavigationBar-module_link-E8usD\",\"dropdown\":\"NavigationBar-module_dropdown-poSm4\"};","import React, { ComponentType, FC } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Navigate } from 'react-router-dom';\nimport { RootState } from '../../app/store/store';\n\nexport enum AuthenticationState {\n  Authenticated = 'Authenticated',\n  Unauthenticated = 'Unauthenticated',\n  AdminAuthenticated = 'AdminAuthenticated',\n}\n\ntype withAuthenticationStateProps = {\n  authenticationState?: AuthenticationState;\n};\n\ntype WithAuthenticationStateProps = withAuthenticationStateProps & {\n  routes: { root: string; signIn: string };\n  children?: React.ReactNode;\n};\n\nexport const WithAuthenticationState: FC<WithAuthenticationStateProps> = ({\n  children,\n  authenticationState,\n  routes,\n}) => {\n  const isAuthenticated = useSelector((state: RootState) => state.auth.isAuthenticated);\n  const isAdmin = true;\n  // const isAdmin = useSelector((state: RootState) => state.user.currentUser?.isAdmin);\n\n  return (\n    <>\n      {authenticationState === AuthenticationState.AdminAuthenticated &&\n        isAuthenticated &&\n        isAdmin &&\n        children}\n      {authenticationState === AuthenticationState.Authenticated && isAuthenticated && children}\n      {authenticationState === AuthenticationState.Unauthenticated && !isAuthenticated && children}\n      {authenticationState === undefined && children}\n      {(authenticationState === AuthenticationState.Authenticated && !isAuthenticated) ||\n        (authenticationState === AuthenticationState.AdminAuthenticated &&\n          (!isAdmin || !isAuthenticated) && <Navigate to={routes.signIn} replace />)}\n      {authenticationState === AuthenticationState.Unauthenticated && isAuthenticated && (\n        <Navigate to={routes.root} replace />\n      )}\n    </>\n  );\n};\n\nconst withAuthenticationState = <P extends object>(\n  WrappedComponent: ComponentType<P>,\n): ComponentType<P & withAuthenticationStateProps> => {\n  const HOC: React.FC<P & withAuthenticationStateProps> = (props) => {\n    const isAuthenticated = useSelector((state: RootState) => state.auth.isAuthenticated);\n    const isAdmin = true;\n    // const isAdmin = useSelector((state: RootState) => state.user.currentUser?.isAdmin);\n    const { authenticationState, ...restProps } = props;\n\n    return (\n      <>\n        {authenticationState === AuthenticationState.AdminAuthenticated &&\n          isAuthenticated &&\n          isAdmin && <WrappedComponent {...(restProps as P)} />}\n        {authenticationState === AuthenticationState.Authenticated && isAuthenticated && (\n          <WrappedComponent {...(restProps as P)} />\n        )}\n        {authenticationState === AuthenticationState.Unauthenticated && !isAuthenticated && (\n          <WrappedComponent {...(restProps as P)} />\n        )}\n        {authenticationState === undefined && <WrappedComponent {...(restProps as P)} />}\n      </>\n    );\n  };\n\n  return HOC;\n};\n\nexport default withAuthenticationState;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { NavLink } from 'react-router-dom';\nimport style from './NavigationBar.module.scss';\nimport withAuthenticationState, { AuthenticationState } from '../../hocs/withAuthenticationState';\n\nexport interface NavItem {\n  label: string;\n  path?: string | null;\n  element?: React.ReactNode | null;\n  authenticationState?: AuthenticationState;\n  dropdown?: NavItem[];\n}\n\ninterface NavigationBarProps {\n  menuItems: NavItem[];\n}\n\nconst NavigationBar: React.FC<NavigationBarProps> = ({ menuItems }) => {\n  const { t } = useTranslation();\n  const AuthNavLink = withAuthenticationState(NavLink);\n  return (\n    <nav className={style.navbar}>\n      {menuItems.map((item) => (\n        <div key={item.label} className={style.navItem}>\n          <AuthNavLink\n            to={item.path ?? ''}\n            authenticationState={item.authenticationState}\n            className={style.link}\n          >\n            {t(item.label)}\n          </AuthNavLink>\n          {item.dropdown && (\n            <div className={style.dropdown}>\n              {item.dropdown.map((subItem) => (\n                <AuthNavLink\n                  key={subItem.label}\n                  to={subItem.path ?? ''}\n                  authenticationState={subItem.authenticationState}\n                  className={style.link}\n                >\n                  {t(subItem.label)}\n                </AuthNavLink>\n              ))}\n            </div>\n          )}\n        </div>\n      ))}\n    </nav>\n  );\n};\n\nexport default NavigationBar;\n","import { createContext, useContext } from 'react';\n\nexport type Theme = 'light' | 'dark';\n\nexport const lightTheme: Theme = 'light';\nexport const darkTheme: Theme = 'dark';\n\ntype ThemeContextType = {\n  theme: Theme;\n  toggleTheme: () => void;\n};\n\nexport const ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\nconst useTheme = (): ThemeContextType => {\n  const context = useContext(ThemeContext);\n  if (!context) {\n    throw new Error('useTheme must be used within a ThemeProvider');\n  }\n  return context;\n};\n\nexport default useTheme;\n","import { FC } from 'react';\nimport style from './ThemeSwitcher.module.scss';\nimport darkIco from '../../assets/dark_mode_24dp_5F6368_FILL0_wght400_GRAD0_opsz24.svg';\nimport lightIco from '../../assets/light_mode_24dp_5F6368_FILL0_wght400_GRAD0_opsz24.svg';\nimport useTheme, { lightTheme } from '../../contexts/ThemeContext/ThemeContext';\n\nconst ThemeSwitcher: FC = () => {\n  const { theme, toggleTheme } = useTheme();\n\n  return (\n    <div className={style.wrapper}>\n      <button className={style.button} onClick={() => toggleTheme()}>\n        <img src={theme === lightTheme ? darkIco : lightIco} />\n      </button>\n    </div>\n  );\n};\n\nexport default ThemeSwitcher;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ThemeSwitcher-module_wrapper-nNVOS\",\"button\":\"ThemeSwitcher-module_button-vE6bM\"};","import { FC } from 'react';\nimport cn from 'clsx';\nimport { Outlet } from 'react-router-dom';\nimport style from './Layout.module.scss';\nimport CartIndicator from '../../features/Cart/ui/CartIndicator/CartIndicator';\nimport Header from '../../shared/ui/Header/Header';\nimport LanguageSwitcher from '../../shared/ui/LanguageSwitcher/LanguageSwitcher';\nimport Logo from '../../shared/ui/Logo/Logo';\nimport NavigationBar, { NavItem } from '../../shared/ui/NavigationBar/NavigationBar';\nimport ThemeSwitcher from '../../shared/ui/ThemeSwitcher/ThemeSwitcher';\n\ntype LayoutProps = {\n  menuItems: NavItem[];\n};\n\nconst Layout: FC<LayoutProps> = ({ menuItems }) => {\n  return (\n    <div className={cn(style.layout)}>\n      <Header>\n        <div className={style.item}>\n          <Logo to=\"/\" />\n        </div>\n        <div className={style.item}>\n          <NavigationBar menuItems={menuItems} />\n        </div>\n        <div className={style.rightWrapper}>\n          <div className={style.item}>\n            <CartIndicator />\n          </div>\n          <div className={style.item}>\n            <ThemeSwitcher />\n          </div>\n          <div className={style.item}>\n            <LanguageSwitcher />\n          </div>\n        </div>\n      </Header>\n      <div className={style.content}>\n        <Outlet />\n      </div>\n    </div>\n  );\n};\n\nexport default Layout;\n","// extracted by mini-css-extract-plugin\nexport default {\"orderItem\":\"EditOrderItem-module_orderItem-qiaJd\",\"row\":\"EditOrderItem-module_row-zdgCN\",\"label\":\"EditOrderItem-module_label-dkaLl\",\"value\":\"EditOrderItem-module_value-ncFgD\",\"statusSelect\":\"EditOrderItem-module_statusSelect-wrBRh\"};","import React, { memo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { OrderStatus } from 'src/shared/types/serverTypes';\nimport styles from './EditOrderItem.module.scss';\n\ntype OrderItemProps = {\n  createdAt: Date;\n  updatedAt: Date;\n  status: OrderStatus;\n  totalPrice: number;\n  id: string;\n  email: string;\n  onStatusChange: (status: OrderStatus) => void;\n};\n\nconst EditOrderItem: React.FC<OrderItemProps> = ({\n  createdAt,\n  updatedAt,\n  status,\n  totalPrice,\n  id,\n  email,\n  onStatusChange,\n}) => {\n  const { t } = useTranslation();\n\n  const handleChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    onStatusChange(e.target.value as OrderStatus);\n  };\n\n  return (\n    <div className={styles.orderItem}>\n      <div className={styles.row}>\n        <span>{id}</span>\n        <span>{email}</span>\n      </div>\n      <div className={styles.row}>\n        <span className={styles.label}>{t('OrderItem.createdAt', { createdAt })}</span>\n        <span className={styles.value}>{t('OrderItem.totalPrice', { totalPrice })}</span>\n      </div>\n      <div className={styles.row}>\n        {/* <span className={styles.label}>{t('OrderItem.status', { status })}</span> */}\n        <select value={status} onChange={handleChange} className={styles.statusSelect}>\n          {Object.values(OrderStatus).map((statusKey) => (\n            <option key={statusKey} value={statusKey}>\n              {t(`OrderStatus.${statusKey}`)}\n            </option>\n          ))}\n        </select>\n        <span className={styles.value}>{t('OrderItem.updatedAt', { updatedAt })}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(EditOrderItem) as typeof EditOrderItem;\n","import React, { memo, useRef } from 'react';\nimport useIntersectionObserve from '../../hooks/useIntersectionObserver';\n\ntype ComponentFetchListProps<T> = {\n  items: T[];\n  doFetch: () => void;\n  render: (item: T) => React.ReactNode;\n  oneObserve: boolean;\n  // render: (item: T, index: number, count: number, ref: React.RefObject<HTMLDivElement>) => React.ReactNode,\n};\n\nconst ComponentFetchList = <T,>({\n  items,\n  render,\n  doFetch,\n  oneObserve,\n}: ComponentFetchListProps<T>) => {\n  const targetRef = useRef<HTMLDivElement>(null);\n\n  useIntersectionObserve(targetRef, doFetch, { threshold: 0.5 }, oneObserve);\n\n  return (\n    <>\n      {/* {items.map((item, index) =>\n        index === items.length - 2\n          ? React.forwardRef((props, ref) => render(item))({ ref: targetRef })\n          : render(item),\n      )} */}\n\n      {items.map((item, index) => (\n        // index === items.length - 2\n        //   ? React.cloneElement(render(item) as React.ReactElement<unknown, string | React.JSXElementConstructor<unknown>>, { ref: targetRef })\n        //   : render(item),\n        <div ref={index === items.length - 2 ? targetRef : null} key={index}>\n          {render(item)}\n        </div>\n      ))}\n    </>\n  );\n  // return <>{items.map((item, index) => render(item, index, items.length, targetRef))}</>\n  // return <>{items.map(render)}</>\n};\n\nexport default memo(ComponentFetchList) as typeof ComponentFetchList;\n","import { useEffect } from 'react';\n\n// function useIntersectionObserve<T extends (HTMLElement|null)>(\nfunction useIntersectionObserve(\n  // ref: React.MutableRefObject<T>,\n  ref: React.RefObject<HTMLElement | null>,\n  onIntersect: () => void,\n  options?: IntersectionObserverInit,\n  oneObserve = true,\n) {\n  useEffect(() => {\n    const observer = new IntersectionObserver(([entry]) => {\n      if (entry.isIntersecting) {\n        onIntersect();\n        if (oneObserve) {\n          ref.current = null;\n        }\n      }\n    }, options);\n\n    const currentRef = ref.current;\n\n    if (currentRef) {\n      observer.observe(currentRef);\n    }\n\n    return () => {\n      if (currentRef) {\n        observer.unobserve(currentRef);\n      }\n    };\n  }, [options, ref, oneObserve, onIntersect]);\n}\n\nexport default useIntersectionObserve;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"OrdersEditScreen-module_wrapper-h7yS2\",\"content\":\"OrdersEditScreen-module_content-Yuvtz\",\"orders\":\"OrdersEditScreen-module_orders-AxDvj\",\"products\":\"OrdersEditScreen-module_products-Ec_7b\",\"selectedOrder\":\"OrdersEditScreen-module_selectedOrder-rc_Ic\",\"addButton\":\"OrdersEditScreen-module_addButton-R30zC\",\"footer\":\"OrdersEditScreen-module_footer-aFzl3\",\"error\":\"OrdersEditScreen-module_error-VfuJF\"};","import * as yup from 'yup';\nimport { OrdersFilters, CommonFilters, OrderStatus } from '../../../shared/types/serverTypes';\n\nexport const orderFilterSchema: yup.ObjectSchema<Omit<OrdersFilters, keyof CommonFilters>> =\n  yup.object({\n    name: yup.string().optional(),\n    ids: yup.array().optional(),\n    productIds: yup.array().optional(),\n    userId: yup.string().optional(),\n    status: yup\n      .mixed<OrderStatus>()\n      .oneOf([\n        OrderStatus.Delivered,\n        OrderStatus.InTransit,\n        OrderStatus.OrderCancelled,\n        OrderStatus.Packaging,\n        OrderStatus.PendingConfirmation,\n        OrderStatus.Processing,\n        OrderStatus.ReturnRequested,\n        OrderStatus.WaitingForDelivery,\n      ])\n      .optional(),\n  });\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"CommonFiltersForm-module_form-T7FCc\",\"label\":\"CommonFiltersForm-module_label-pH_Pa\",\"subLabel\":\"CommonFiltersForm-module_subLabel-ZXhWp\",\"error\":\"CommonFiltersForm-module_error-fHA0c\",\"input\":\"CommonFiltersForm-module_input-KAW2t\",\"textarea\":\"CommonFiltersForm-module_textarea-EWDfV\",\"select\":\"CommonFiltersForm-module_select-nV_9U\",\"button\":\"CommonFiltersForm-module_button-hko8I\",\"clearButton\":\"CommonFiltersForm-module_clearButton-slLSF\"};","import * as yup from 'yup';\nimport { CommonFilters, DateInterval, Sorting } from '../../../shared/types/serverTypes';\n\n// const dateIntervalSchema = yup.object().shape({\n//   gte: yup.string().optional(),\n//   lte: yup.string().optional(),\n// }).test('date-range-check', 'Начальная дата должна быть меньше конечной', function (value) {\n//   if (value?.gte && value?.lte) {\n//     return new Date(value.gte) < new Date(value.lte);\n//   }\n//   return true; // Если одно из значений отсутствует, не проверяем\n// });\n\n// const dateIntervalSchema = yup.object().shape({\n//     gte: yup.string().optional(),\n//     lte: yup\n//         .string()\n//         .optional()\n//         .when('gte', ([gte], schema) =>\n//             gte\n//                 ? schema.test(\n//                     'date-order',\n//                     'CommonFiltersForm.errors.LteLessGte',\n//                     (lte: string | undefined) => !lte || new Date(gte) <= new Date(lte)\n//                 )\n//                 : schema\n//         ),\n// });\nconst dateIntervalSchema: yup.ObjectSchema<DateInterval> = yup.object({\n  gte: yup.string().optional(),\n  lte: yup\n    .string()\n    .optional()\n    .when('gte', ([gte], schema) =>\n      gte\n        ? schema.test(\n            'date-order',\n            'CommonFiltersFormSchema.dateIntervalSchema.LteLessGte',\n            (lte) => !lte || new Date(gte) < new Date(lte),\n          )\n        : schema,\n    ),\n});\n\n// export const commonFiltersFormSchema = yup.object().shape({\n//   createdAt: dateIntervalSchema,\n//   updatedAt: dateIntervalSchema,\n//   // sorting: yup.object().shape({\n//   //   type: yup.mixed<'ASC' | 'DESC'>().oneOf(['ASC', 'DESC']).required(),\n//   //   field: yup.mixed<'id' | 'createdAt' | 'updatedAt' | 'name'>().oneOf(['id', 'createdAt', 'updatedAt', 'name']).required(),\n//   // }),\n// });\nexport const commonFiltersSchema: yup.ObjectSchema<CommonFilters> = yup.object({\n  pagination: yup\n    .object({\n      pageSize: yup.number().integer().min(1).optional(),\n      pageNumber: yup.number().integer().min(1).optional(),\n    })\n    .optional(),\n  createdAt: dateIntervalSchema.optional(),\n  updatedAt: dateIntervalSchema.optional(),\n  sorting: yup\n    .object({\n      type: yup.mixed<Sorting['type']>().oneOf(['ASC', 'DESC']), //.required(),\n      field: yup.mixed<Sorting['field']>().oneOf(['id', 'createdAt', 'updatedAt', 'name']), //.required(),\n    })\n    .noUnknown()\n    .optional() as yup.Schema<Sorting | undefined>,\n  // .nullable()\n  // .default(undefined),\n});\n\n// export const getSchema = (schemas: yup.ObjectSchema<any>[] | undefined): yup.ObjectSchema<any> => {\n//   return schemas\n//     ? schemas.reduce((accSchema, currentSchema) => accSchema.concat(currentSchema), commonFiltersSchema)\n//     : commonFiltersSchema;\n// };\n","import React, { ReactNode, useState } from 'react';\nimport cn from 'clsx';\nimport { useTranslation } from 'react-i18next';\nimport * as yup from 'yup';\nimport styles from './CommonFiltersForm.module.scss';\nimport { commonFiltersSchema } from './CommonFiltersFormSchema';\nimport { CommonFilters, Sorting } from '../../../shared/types/serverTypes';\n\ntype CommonFilterFormProps<T extends CommonFilters> = {\n  onChange: (filters: T) => void;\n  initialFilters: T;\n  childrenSchema?: yup.ObjectSchema<Omit<T, keyof CommonFilters>>;\n  children?:\n    | ReactNode\n    | ((\n        errors: Record<string, string>,\n        filters: T,\n        handleChange: <K extends keyof T>(key: K, value: T[K]) => void,\n      ) => ReactNode);\n};\n\nexport const CommonFiltersForm = <T extends CommonFilters>({\n  onChange,\n  initialFilters,\n  childrenSchema: childrenSchemas,\n  children,\n}: CommonFilterFormProps<T>) => {\n  const isFunction = (\n    value: unknown,\n  ): value is (\n    errors: Record<string, string>,\n    filters: T,\n    handleChange: <K extends keyof T>(key: K, value: T[K]) => void,\n  ) => ReactNode => typeof value === 'function';\n  const filterFormSchema = childrenSchemas\n    ? commonFiltersSchema.concat(childrenSchemas)\n    : commonFiltersSchema;\n  const { t } = useTranslation();\n\n  const [localFilters, setLocalFilters] = useState<T>(initialFilters);\n  const [errors, setErrors] = useState<Record<string, string>>({});\n\n  const handleChange = <K extends keyof T>(key: K, value: T[K]) => {\n    setLocalFilters({ ...localFilters, [key]: value });\n  };\n\n  const handleReset = () => {\n    setErrors({});\n    const emptyFilters = {} as T;\n    setLocalFilters(emptyFilters);\n    // setLocalFilters(initialFilters);\n  };\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setErrors({});\n    filterFormSchema\n      .validate(localFilters, { abortEarly: false })\n      .then(() => {\n        onChange(localFilters);\n      })\n      .catch((err) => {\n        console.error(t('CommonFiltersForm.errors.validations'), err.errors);\n        if (err instanceof yup.ValidationError) {\n          const validationErrors: Record<string, string> = {};\n\n          err.inner.forEach((error) => {\n            if (error.path) {\n              validationErrors[error.path] = error.message;\n            }\n          });\n          setErrors(validationErrors);\n        }\n      });\n  };\n\n  return (\n    <form className={cn(styles.form)} onSubmit={handleSubmit}>\n      <div>\n        <label className={cn(styles.label)}>{t('CommonFiltersForm.createdAt.label')}</label>\n        <label className={cn(styles.subLabel)}>\n          {t('CommonFiltersForm.createdAt.from')}\n          <div style={{ flexDirection: 'row', display: 'flex' }}>\n            <input\n              className={cn(styles.input)}\n              type=\"datetime-local\"\n              value={localFilters?.createdAt?.gte || ''}\n              onChange={(e) =>\n                handleChange('createdAt', {\n                  ...localFilters?.createdAt,\n                  gte: e.target.value,\n                })\n              }\n            />\n            <button\n              className={cn(styles.clearButton)}\n              type=\"button\"\n              onClick={() =>\n                handleChange('createdAt', {\n                  ...localFilters?.createdAt,\n                  gte: undefined,\n                })\n              }\n            >\n              X\n            </button>\n          </div>\n        </label>\n        <label className={cn(styles.subLabel)}>\n          {t('CommonFiltersForm.createdAt.by')}\n          <div style={{ flexDirection: 'row', display: 'flex' }}>\n            <input\n              className={cn(styles.input)}\n              type=\"datetime-local\"\n              value={localFilters?.createdAt?.lte || ''}\n              onChange={(e) =>\n                handleChange('createdAt', {\n                  ...localFilters?.createdAt,\n                  lte: e.target.value,\n                })\n              }\n            />\n            <button\n              className={cn(styles.clearButton)}\n              type=\"button\"\n              onClick={() =>\n                handleChange('createdAt', {\n                  ...localFilters?.createdAt,\n                  lte: undefined,\n                })\n              }\n            >\n              X\n            </button>\n          </div>\n        </label>\n        {errors['createdAt.lte'] && (\n          <p className={cn(styles.error)}>{t(errors['createdAt.lte'])}</p>\n        )}\n      </div>\n\n      <div>\n        <label className={cn(styles.label)}>{t('CommonFiltersForm.updatedAt.label')}</label>\n        <label className={cn(styles.subLabel)}>\n          {t('CommonFiltersForm.updatedAt.from')}\n          <div style={{ flexDirection: 'row', display: 'flex' }}>\n            <input\n              className={cn(styles.input)}\n              type=\"datetime-local\"\n              value={localFilters?.updatedAt?.gte || ''}\n              onChange={(e) =>\n                handleChange('updatedAt', {\n                  ...localFilters?.updatedAt,\n                  gte: e.target.value,\n                })\n              }\n            />\n            <button\n              className={cn(styles.clearButton)}\n              type=\"button\"\n              onClick={() =>\n                handleChange('updatedAt', {\n                  ...localFilters?.updatedAt,\n                  gte: undefined,\n                })\n              }\n            >\n              X\n            </button>\n          </div>\n        </label>\n        <label className={cn(styles.subLabel)}>\n          {t('CommonFiltersForm.updatedAt.by')}\n          <div style={{ flexDirection: 'row', display: 'flex' }}>\n            <input\n              className={cn(styles.input)}\n              type=\"datetime-local\"\n              value={localFilters?.updatedAt?.lte || ''}\n              onChange={(e) =>\n                handleChange('updatedAt', {\n                  ...localFilters?.updatedAt,\n                  lte: e.target.value,\n                })\n              }\n            />\n            <button\n              className={cn(styles.clearButton)}\n              type=\"button\"\n              onClick={() =>\n                handleChange('updatedAt', {\n                  ...localFilters?.updatedAt,\n                  lte: undefined,\n                })\n              }\n            >\n              X\n            </button>\n          </div>\n        </label>\n        {errors['updatedAt.lte'] && (\n          <p className={cn(styles.error)}>{t(errors['updatedAt.lte'])}</p>\n        )}\n      </div>\n\n      <div>\n        <label className={cn(styles.label)}>{t('CommonFiltersForm.sorting.label')}</label>\n        <label className={cn(styles.subLabel)}>\n          {t('CommonFiltersForm.sorting.byField')}\n          <select\n            className={cn(styles.select)}\n            value={localFilters?.sorting?.field || ''}\n            onChange={(e) =>\n              handleChange(\n                'sorting',\n                e.target.value\n                  ? {\n                      field: e.target.value as Sorting['field'],\n                      type: localFilters?.sorting?.type || 'ASC',\n                    }\n                  : undefined,\n              )\n            }\n          >\n            <option value=\"\">{t('CommonFiltersForm.sorting.field.noSorting')}</option>\n            <option value=\"id\">{t('CommonFiltersForm.sorting.field.id')}</option>\n            <option value=\"createdAt\">{t('CommonFiltersForm.sorting.field.createdAt')}</option>\n            <option value=\"updatedAt\">{t('CommonFiltersForm.sorting.field.updatedAt')}</option>\n            <option value=\"name\">{t('CommonFiltersForm.sorting.field.name')}</option>\n          </select>\n        </label>\n        {errors['sorting.field'] && (\n          <p className={cn(styles.error)}>{t(errors['sorting.field'])}</p>\n        )}\n        <label className={cn(styles.subLabel)}>\n          {t('CommonFiltersForm.sorting.direction')}\n          <select\n            className={cn(styles.select)}\n            value={localFilters?.sorting?.type || 'ASC'}\n            onChange={(e) =>\n              handleChange('sorting', {\n                field: localFilters?.sorting?.field || 'id',\n                type: e.target.value as 'ASC' | 'DESC',\n              })\n            }\n          >\n            <option value=\"ASC\">{t('CommonFiltersForm.sorting.type.ASC')}</option>\n            <option value=\"DESC\">{t('CommonFiltersForm.sorting.type.DESC')}</option>\n          </select>\n        </label>\n        {errors['sorting.type'] && <p className={cn(styles.error)}>{t(errors['sorting.type'])}</p>}\n      </div>\n\n      {isFunction(children) ? children(errors, localFilters, handleChange) : children}\n\n      <button className={cn(styles.button)} type=\"button\" onClick={handleReset}>\n        {t('CommonFiltersForm.resetButton')}\n      </button>\n      <button className={cn(styles.button)} type=\"submit\">\n        {t('CommonFiltersForm.submitButton')}\n      </button>\n    </form>\n  );\n};\n","import cn from 'clsx';\nimport { useTranslation } from 'react-i18next';\nimport { orderFilterSchema } from 'src/entities/Order/model/OrderFilterSchema';\nimport { OrdersFilters, OrderStatus } from 'src/shared/types/serverTypes';\nimport styles from './OrdersFiltersForm.module.scss';\nimport { CommonFiltersForm } from '../../../features/forms/CommonFiltersForm/CommonFiltersForm';\n\ntype OrdersFiltersFormProps = {\n  initialFilters: OrdersFilters;\n  onChange: (filters: OrdersFilters) => void;\n};\nconst OrdersFiltersForm = ({ initialFilters, onChange }: OrdersFiltersFormProps) => {\n  const { t } = useTranslation();\n\n  return (\n    <CommonFiltersForm\n      initialFilters={initialFilters}\n      childrenSchema={orderFilterSchema}\n      onChange={onChange}\n    >\n      {(\n        errors: Record<string, string>,\n        filters: OrdersFilters,\n        handleChange: <K extends keyof OrdersFilters>(key: K, value: OrdersFilters[K]) => void,\n      ) => (\n        <div>\n          <label className={cn(styles.label)}>\n            {t('OrdersFiltersForm.status.label')}\n            <select\n              className={cn(styles.select)}\n              value={filters?.status || ''}\n              onChange={(e) =>\n                handleChange('status', e.target.value ? (e.target.value as OrderStatus) : undefined)\n              }\n            >\n              <option value=\"\">{t('OrdersFiltersForm.status.noStatus')}</option>\n              <option value={OrderStatus.Delivered}>{t('OrderStatus.delivered')}</option>\n              <option value={OrderStatus.InTransit}>{t('OrderStatus.in_transit')}</option>\n              <option value={OrderStatus.OrderCancelled}>{t('OrderStatus.order_cancelled')}</option>\n              <option value={OrderStatus.Packaging}>{t('OrderStatus.packaging')}</option>\n              <option value={OrderStatus.PendingConfirmation}>\n                {t('OrderStatus.pending_confirmation')}\n              </option>\n              <option value={OrderStatus.Processing}>{t('OrderStatus.processing')}</option>\n              <option value={OrderStatus.ReturnRequested}>\n                {t('OrderStatus.return_requested')}\n              </option>\n              <option value={OrderStatus.WaitingForDelivery}>\n                {t('OrderStatus.waiting_for_delivery')}\n              </option>\n            </select>\n          </label>\n          {errors['status'] && <p className={cn(styles.error)}>{t(errors['status'])}</p>}\n        </div>\n      )}\n    </CommonFiltersForm>\n  );\n};\n\nexport default OrdersFiltersForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"OrdersFiltersForm-module_label-cdxmc\",\"subLabel\":\"OrdersFiltersForm-module_subLabel-J8JYI\",\"error\":\"OrdersFiltersForm-module_error-Oh9UG\",\"input\":\"OrdersFiltersForm-module_input-f9qfU\",\"textarea\":\"OrdersFiltersForm-module_textarea-CCq1z\",\"select\":\"OrdersFiltersForm-module_select-HBxmw\"};","import { Stringified } from '../types/serverTypes';\n\nexport const stringifyObject = <T>(obj: T): Stringified<T> => {\n  const result: Partial<Stringified<T>> = {};\n\n  for (const key in obj) {\n    const value = obj[key as keyof T];\n\n    if (typeof value === 'object' && value !== null) {\n      result[key as keyof Stringified<T>] = JSON.stringify(value) as any;\n    } else if (typeof value === 'string' && value !== null) {\n      result[key as keyof Stringified<T>] = `\"${value}\"` as any;\n    } else {\n      result[key as keyof Stringified<T>] = (value as any).toString();\n    }\n  }\n\n  return result as Stringified<T>;\n};\n","import { stringifyObject } from 'src/shared/lib/stringifyObjectHelper';\nimport {\n  GetPageResult,\n  MutateOrderBody,\n  MutateRequest,\n  Order,\n  OrdersFilters,\n} from 'src/shared/types/serverTypes';\nimport { baseApi } from '../../../shared/api/baseApi';\n\nexport const orderApi = baseApi.injectEndpoints({\n  // export const orderApi = createApi({\n  // reducerPath: 'orderApi',\n  // tagTypes: ['order'],\n  // baseQuery: customBaseQuery,\n  endpoints: (builder) => ({\n    getOrders: builder.query<GetPageResult<Order>, OrdersFilters>({\n      query: (filters) =>\n        `/orders${\n          !filters\n            ? ''\n            : `?${new URLSearchParams(stringifyObject(JSON.parse(JSON.stringify(filters)))).toString()}`\n        }`,\n      // query: (filters) => '/order',\n      // providesTags: ['order'],\n      // keepUnusedDataFor: 10,\n    }),\n    updateOrder: builder.mutation<Order, MutateRequest<MutateOrderBody>>({\n      query: (updateOrder) => ({\n        url: `/orders/${updateOrder.id}`,\n        method: 'PUT',\n        body: updateOrder.body,\n      }),\n      // invalidatesTags: ['order'],\n    }),\n    patchOrder: builder.mutation<Order, MutateRequest<Partial<MutateOrderBody>>>({\n      query: (patchOrder) => ({\n        url: `/orders/${patchOrder.id}`,\n        method: 'PATCH',\n        body: patchOrder.body,\n      }),\n      // invalidatesTags: ['order'],\n    }),\n    createOrder: builder.mutation<Order, MutateOrderBody>({\n      query: (newOrder) => ({\n        url: `/orders/`,\n        method: 'POST',\n        body: newOrder,\n      }),\n      // invalidatesTags: ['order'],\n    }),\n  }),\n});\n\nexport const {\n  useGetOrdersQuery,\n  useUpdateOrderMutation,\n  usePatchOrderMutation,\n  useCreateOrderMutation,\n} = orderApi;\n","import React, { memo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styles from './OrderProductItem.module.scss';\n\ntype OrderProductItemProps = {\n  photo?: string;\n  name: string;\n  price: number;\n  quantity: number;\n};\n\nconst OrderProductItem: React.FC<OrderProductItemProps> = ({ photo, name, price, quantity }) => {\n  const { t } = useTranslation();\n\n  return (\n    <div className={styles.orderProductItem}>\n      <img src={photo} alt={name} className={styles.thumbnail} />\n      <div className={styles.details}>\n        <span className={styles.name}>{name}</span>\n        <span className={styles.price}>{t('OrderProductItem.price', { price })}</span>\n        <span className={styles.quantity}>{t('OrderProductItem.quantity', { quantity })}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(OrderProductItem) as typeof OrderProductItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"orderProductItem\":\"OrderProductItem-module_orderProductItem-sYHX2\",\"thumbnail\":\"OrderProductItem-module_thumbnail-z9Y9d\",\"details\":\"OrderProductItem-module_details-n2sj1\",\"name\":\"OrderProductItem-module_name-bh6z9\",\"price\":\"OrderProductItem-module_price-rZ48K\",\"quantity\":\"OrderProductItem-module_quantity-OyVph\"};","import { canCastToExtendedFetchError, canCastToFetchError } from './errorsCast';\nimport { errorsToStrings } from './errorsToStrings';\n\nexport const unexpectedErrorBounce = (error: unknown) => {\n  if (!!error && !Array.isArray(error)) {\n    if (canCastToFetchError(error)) {\n      throw Error(errorsToStrings(error.data).join(',\\n'));\n    }\n    if (canCastToExtendedFetchError(error)) {\n      throw Error(error.error);\n    }\n    throw Error('Unknown error');\n  }\n};\n","import { useState, useRef, useEffect, useCallback } from 'react';\nimport type {\n  BaseQueryFn,\n  FetchArgs,\n  FetchBaseQueryError,\n  TypedUseMutation,\n  TypedUseQuery,\n} from '@reduxjs/toolkit/query/react';\nimport { unexpectedErrorBounce } from '../lib/unexpectedErrorBounce';\nimport { GetPageResult, MutateRequest, Pagination } from '../types/serverTypes';\n\nconst PAGE_SIZE = 4;\n\nconst useDataListController = <TItem extends { id: string }, TFilters, MutateBody>(\n  useQueryHook: TypedUseQuery<\n    GetPageResult<TItem>,\n    TFilters,\n    BaseQueryFn<string | FetchArgs, unknown, FetchBaseQueryError | string[]>\n  >,\n  useUpdateMutation: TypedUseMutation<\n    TItem,\n    MutateRequest<MutateBody>,\n    BaseQueryFn<string | FetchArgs, unknown, FetchBaseQueryError | string[]>\n  >,\n  useCreateMutation: TypedUseMutation<\n    TItem,\n    MutateBody,\n    BaseQueryFn<string | FetchArgs, unknown, FetchBaseQueryError | string[]>\n  >,\n) => {\n  const [pagination, setPagination] = useState<Pagination>({ pageSize: PAGE_SIZE, pageNumber: 1 });\n  const [permanentFilters, setPermanentFilters] = useState<TFilters>({} as TFilters);\n  const [items, setItems] = useState<TItem[]>([]);\n  const [currentFilters, setCurrentFilters] = useState<TFilters>({} as TFilters);\n  const firstRender = useRef(true);\n  const [reset, setReset] = useState(true);\n\n  const {\n    data: ResponseData,\n    isFetching,\n    isLoading,\n    isError: isErrorQuery,\n    isSuccess,\n    error: errorQuery,\n  } = useQueryHook({ ...currentFilters, pagination, ...permanentFilters });\n\n  const data = ResponseData?.data;\n  const serverPagination = ResponseData?.pagination;\n\n  useEffect(() => {\n    if (data && !isFetching && (serverPagination?.pageNumber !== 1 || firstRender.current)) {\n      setItems((prevItems) => [...prevItems, ...data]);\n      firstRender.current = false;\n    }\n  }, [data, serverPagination, reset, isFetching]);\n\n  const handlerFiltersChange = useCallback((filters: TFilters) => {\n    setCurrentFilters(filters);\n    setPagination((prev) => ({ ...prev, pageNumber: 1 }));\n    setItems([]);\n    firstRender.current = true;\n    setReset((prev) => !prev);\n  }, []);\n\n  const handlerFetchItems = useCallback(() => {\n    if (serverPagination && items.length < serverPagination.total && !isFetching) {\n      setPagination((prev) => ({ ...prev, pageNumber: (prev.pageNumber ?? 0) + 1 }));\n    }\n  }, [serverPagination, items.length, isFetching]);\n\n  const [updateItem, { isError: isErrorUpdate, error: errorUpdate }] = useUpdateMutation(); // updateParams: { id: string; body: MutateBody }\n  const [createItem, { isError: isErrorCreate, error: errorCreate }] = useCreateMutation(); // createParams: { body: MutateBody }\n\n  const handlerEditItem = useCallback(\n    (id: string, data: MutateBody) => {\n      if (!id) {\n        createItem(data)\n          .then(() => {\n            /* nothing */\n          })\n          .catch((error) => {\n            console.error('Create item: ', error);\n          });\n        return;\n      }\n      if (id) {\n        updateItem({ id, body: data })\n          // updateItem({ id:\"651c272f8a42911d60f03071\", body: data })\n          .then((res) => {\n            if (res.data) {\n              setItems((prev) => prev.map((item) => (item.id === res.data?.id ? res.data : item)));\n            }\n          })\n          .catch((error) => {\n            console.error('Update item: ', error);\n          });\n        return;\n      }\n    },\n    [items],\n  );\n\n  const [editingItem, setEditingItem] = useState<TItem | null>(null);\n\n  const handlerAddClick = useCallback((defaultItem: TItem) => {\n    setEditingItem(defaultItem);\n  }, []);\n\n  const handlerEditClick = useCallback((item: TItem) => {\n    setEditingItem(item);\n  }, []);\n\n  const clearEditItem = useCallback(() => {\n    setEditingItem(null);\n  }, []);\n\n  const handlerPermanentFiltersChange = useCallback((filters: TFilters) => {\n    setPermanentFilters(filters);\n    setPagination((prev) => ({ ...prev, pageNumber: 1 }));\n    setItems([]);\n    firstRender.current = true;\n    setReset((prev) => !prev);\n  }, []);\n\n  unexpectedErrorBounce(errorQuery);\n  unexpectedErrorBounce(errorCreate);\n  unexpectedErrorBounce(errorUpdate);\n\n  return {\n    items,\n    permanentFilters,\n    handlerPermanentFiltersChange,\n    currentFilters,\n    handlerFiltersChange,\n    handlerFetchItems,\n    isFetching,\n    isLoading,\n    isError: isErrorQuery || isErrorUpdate || isErrorCreate,\n    isSuccess,\n    error: [\n      ...(isErrorQuery ? (errorQuery as string[]) : []),\n      ...(isErrorUpdate ? (errorUpdate as string[]) : []),\n      ...(isErrorCreate ? (errorCreate as string[]) : []),\n    ],\n    editingItem,\n    handlerAddClick,\n    handlerEditClick,\n    clearEditItem,\n    handlerEditItem,\n  };\n};\n\nexport default useDataListController;\n","// import React, { ReactNode, useState } from 'react';\n// import cn from 'clsx';\n// import styles from './PageLayout.module.scss';\n\n// interface PageLayoutProps {\n//     header: ReactNode;\n//     footer: ReactNode;\n//     sidebar: ReactNode;\n//     children: ReactNode;\n// }\n\n// const PageLayout: React.FC<PageLayoutProps> = ({ header, footer, sidebar, children }) => {\n//     const [isSidebarVisible, setSidebarVisible] = useState(true);\n\n//     const toggleSidebar = () => setSidebarVisible(!isSidebarVisible);\n\n//     return (\n//         <div className={styles.wrapper}>\n//             <header className={styles.header}>{header}</header>\n//             <div className={styles.main}>\n//                 <aside\n//                     className={cn(styles.sidebar, { [styles.sidebarHidden]: !isSidebarVisible })}\n//                 >\n//                     <nav className={styles.sidebarContent}>{sidebar}</nav>\n//                 </aside>\n//                 <div className={cn(styles.toggler)}>\n//                     <button onClick={toggleSidebar} className={styles.toggleButton}>\n//                         {isSidebarVisible ? '<' : '>'}\n//                     </button>\n//                 </div>\n//                 <main className={styles.content}>{children}</main>\n//             </div>\n//             <footer className={styles.footer}>{footer}</footer>\n//         </div>\n//     );\n// };\n\n// export default PageLayout;\n\nimport React, { useState } from 'react';\nimport cn from 'clsx';\nimport styles from './PageLayout.module.scss';\nimport Button from '../Button/Button';\n\ninterface PageLayoutProps {\n  header: React.ReactNode;\n  footer: React.ReactNode;\n  children: React.ReactNode;\n  sidebar: React.ReactNode;\n}\n\nconst PageLayout: React.FC<PageLayoutProps> = ({ header, footer, children, sidebar }) => {\n  const [isSidebarVisible, setIsSidebarVisible] = useState(true);\n\n  const toggleSidebar = () => {\n    setIsSidebarVisible((prev) => !prev);\n  };\n\n  return (\n    <div className={styles.layout}>\n      <header className={styles.header}>{header}</header>\n      <div className={styles.main}>\n        <div className={cn(styles.sidebar, !isSidebarVisible && styles.hidden)}>\n          <div className={cn(styles.sidebarContent)}>{sidebar}</div>\n          {/* {isSidebarVisible && <div className={styles.sidebarContent}>{sidebar}</div>} */}\n        </div>\n        {/* <button className={styles.toggleButton} onClick={toggleSidebar}>\n            {isSidebarVisible ? '<' : '>'}\n          </button> */}\n        <Button\n          lable={isSidebarVisible ? '<' : '>'}\n          className={styles.toggleButton}\n          disabled={false}\n          onClick={toggleSidebar}\n          type=\"button\"\n        />\n        <main className={styles.content}>{children}</main>\n      </div>\n      <footer className={styles.footer}>{footer}</footer>\n    </div>\n  );\n};\n\nexport default PageLayout;\n","// extracted by mini-css-extract-plugin\nexport default {\"layout\":\"PageLayout-module_layout-UU8ni\",\"header\":\"PageLayout-module_header-oUNfJ\",\"footer\":\"PageLayout-module_footer-VPt9F\",\"main\":\"PageLayout-module_main-Qu5pa\",\"sidebar\":\"PageLayout-module_sidebar-yqO4x\",\"hidden\":\"PageLayout-module_hidden-B79U_\",\"toggleButton\":\"PageLayout-module_toggleButton-AAay5\",\"sidebarContent\":\"PageLayout-module_sidebarContent-qzowI\",\"content\":\"PageLayout-module_content-N02Ed\"};","import { createSlice } from '@reduxjs/toolkit';\nimport { authApi } from 'src/features/Auth/api/authApi';\nimport { CartEntry } from '../../../entities/Cart/model/types';\nimport { resetState } from '../../../shared/actions/actions';\n// import { createOrder } from '../../../entities/Order/model/thunks';\n\ninterface CartEntryState {\n  currentCartEntries: CartEntry[];\n  createOrderStatus: 'idle' | 'loading' | 'succeeded' | 'failed';\n  createOrdreError: string | null | string[];\n}\n\nconst initialState: CartEntryState = {\n  currentCartEntries: [],\n  createOrderStatus: 'idle',\n  createOrdreError: null,\n};\n\nconst cartEntrySlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    addToCart: (state, action) => {\n      state.currentCartEntries.push(action.payload);\n    },\n    removeFromCart: (state, action) => {\n      state.currentCartEntries = state.currentCartEntries.filter(\n        (item) => item.product.id !== action.payload,\n      );\n    },\n    setQuantity: (state, action) => {\n      const existingItem = state.currentCartEntries.find(\n        (item) => item.product.id === action.payload.product.id,\n      );\n      if (existingItem) {\n        state.currentCartEntries = state.currentCartEntries\n          .map((item) =>\n            item.product.id === action.payload.product.id\n              ? { ...item, quantity: action.payload.quantity }\n              : item,\n          )\n          .filter((item) => item.quantity > 0);\n      } else {\n        state.currentCartEntries = [\n          ...state.currentCartEntries,\n          { product: action.payload.product, quantity: 1 },\n        ];\n      }\n    },\n    clearCart: () => {\n      return initialState;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(resetState, () => initialState)\n      .addMatcher(authApi.endpoints.signin.matchPending, (state) => {\n        state.createOrderStatus = 'loading';\n        state.createOrdreError = null;\n      })\n      .addMatcher(authApi.endpoints.signin.matchFulfilled, (state) => {\n        state.createOrderStatus = 'succeeded';\n      })\n      .addMatcher(authApi.endpoints.signin.matchRejected, (state, action) => {\n        state.createOrderStatus = 'failed';\n        state.createOrdreError = action.payload as string[];\n      });\n  },\n});\n\nexport const { addToCart, removeFromCart, setQuantity, clearCart } = cartEntrySlice.actions;\nexport default cartEntrySlice.reducer;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Counter-module_wrapper-xXMXj\",\"counter\":\"Counter-module_counter-MBAD9\",\"counterEnable\":\"Counter-module_counterEnable-xeyoJ\",\"input\":\"Counter-module_input-i4M3F\"};","import { FC } from 'react';\nimport cn from 'clsx';\nimport style from './Counter.module.scss';\n\nexport type CounterProps = {\n  count: number;\n  min?: number;\n  max?: number;\n  disabled?: boolean;\n  onIncrement?: () => void;\n  onDecrement?: () => void;\n  onInputChange?: (value: number) => void;\n};\n\nconst Counter: FC<CounterProps> = ({\n  count,\n  min,\n  max,\n  disabled,\n  onIncrement = () => {\n    /* do nothing */\n  },\n  onDecrement = () => {\n    /* do nothing */\n  },\n  onInputChange = (value: number) => {\n    !!value;\n    /* do nothing */\n  },\n}) => {\n  return (\n    <div className={cn(style.wrapper)}>\n      <button\n        onClick={() => onDecrement()}\n        className={cn(style.counter, {\n          [style.counterEnable]: !disabled && (min === undefined || count > min),\n        })}\n        disabled={disabled || (min !== undefined && count <= min)}\n      >\n        -\n      </button>\n      <input\n        className={cn(style.input)}\n        type=\"number\"\n        value={count}\n        disabled={disabled}\n        onChange={(event) =>\n          (max === undefined || Number(event.target.value) <= max) &&\n          (min === undefined || Number(event.target.value) >= min)\n            ? onInputChange(Number(event.target.value))\n            : (event.target.value = count.toString())\n        }\n      />\n      <button\n        onClick={() => onIncrement()}\n        className={cn(style.counter, {\n          [style.counterEnable]: !disabled && (max === undefined || count < max),\n        })}\n        disabled={disabled || (max !== undefined && count >= max)}\n      >\n        +\n      </button>\n    </div>\n  );\n};\n\nexport default Counter;\n","import { FC } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport style from './CartItem.module.scss';\nimport { Product } from '../../../../shared/types/serverTypes';\nimport Button from '../../../../shared/ui/Button/Button';\nimport Counter from '../../../../shared/ui/Counter/Counter';\n\ntype CartItemProps = Pick<Product, 'price' | 'name' | 'photo'> & {\n  count: number;\n  onIncrement: () => void;\n  onDecrement: () => void;\n  onInputChange: (value: number) => void;\n};\n\nconst CartItem: FC<CartItemProps> = ({\n  name,\n  count,\n  photo,\n  price,\n  onIncrement,\n  onDecrement,\n  onInputChange,\n}) => {\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <div className={style.wrapper}>\n        <div className={style.imageWrapper}>\n          <img className={style.image} src={photo} alt={t('product.photo', { name })} />\n        </div>\n        <div className={style.infoWrapper}>\n          <div className={style.title}>{name}</div>\n        </div>\n        <div className={style.cartWrapper}>\n          <div className={style.counter}>\n            <Counter\n              count={count}\n              min={1}\n              onIncrement={onIncrement}\n              onDecrement={onDecrement}\n              onInputChange={onInputChange}\n            />\n          </div>\n          <div className={style.price}>{t('product.price', { price: count * price })}</div>\n          {/* <div className={style.price}>{(count * price).toFixed(2)}&nbsp;руб.</div> */}\n          <div className={style.removeWrapper}>\n            <Button\n              className={style.remove}\n              lable={t('CartItem.button')}\n              onClick={() => {\n                onInputChange(0);\n              }}\n              disabled={count === 0}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default CartItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"CartItem-module_wrapper-u50iL\",\"imageWrapper\":\"CartItem-module_imageWrapper-whafz\",\"image\":\"CartItem-module_image-qJpGG\",\"infoWrapper\":\"CartItem-module_infoWrapper-UBPP9\",\"title\":\"CartItem-module_title-zOmtH\",\"cartWrapper\":\"CartItem-module_cartWrapper-hG1PV\",\"counter\":\"CartItem-module_counter-emAji\",\"price\":\"CartItem-module_price-yl6DL\",\"removeWrapper\":\"CartItem-module_removeWrapper-p4R_m\",\"remove\":\"CartItem-module_remove-r7zf1\"};","import * as yup from 'yup';\nimport { CommonFilters, ProductsFilters } from '../../../shared/types/serverTypes';\n\n// export const productFilterSchema: yup.ObjectSchema<Omit<ProductsFilters, keyof CommonFilters>> = yup.object({\n//   name: yup.string().optional(),\n//   ids: yup\n//     .array()\n//     .of(yup.string())\n//     .optional()\n//     .test('non-empty', 'IDs cannot be empty', (value) => !value || value.length > 0),\n//   categoryIds: yup\n//     .array()\n//     .of(yup.string())\n//     .optional()\n//     .test('non-empty', 'Category IDs cannot be empty', (value) => !value || value.length > 0),\n// });\n\nexport const createProductFiltersSchema = (\n  validCategiryIds: string[],\n): yup.ObjectSchema<Omit<ProductsFilters, keyof CommonFilters>> => {\n  return yup.object({\n    categoryIds: yup.array(yup.string().required().oneOf(validCategiryIds)).optional(),\n    name: yup.string().optional(),\n    ids: yup.array().optional(),\n  });\n};\n","import cn from 'clsx';\nimport { useTranslation } from 'react-i18next';\nimport { createProductFiltersSchema } from 'src/entities/Product/model/ProductFilterSchema';\nimport { CommonFiltersForm } from 'src/features/forms/CommonFiltersForm/CommonFiltersForm';\nimport { Category, ProductsFilters } from 'src/shared/types/serverTypes';\nimport styles from './CatalogFiltersForm.module.scss';\n// import { productFilterSchema } from 'src/entities/Product/model/ProductFilterSchema';\n\ntype CatalogFiltersFormProps = {\n  initialFilters: ProductsFilters;\n  categories: Category[];\n  onChange: (filters: ProductsFilters) => void;\n};\nconst CatalogFiltersForm = ({ initialFilters, onChange, categories }: CatalogFiltersFormProps) => {\n  const getFirst = (array: string[]) => {\n    const [categoryId] = array;\n    return categoryId;\n  };\n  const { t } = useTranslation();\n\n  // const [productFilterSchema] = useState(createProductFiltersSchema(categories.map((category) => category.id)));\n  const productFilterSchema = createProductFiltersSchema(\n    categories?.map((category) => category.id),\n  );\n\n  return (\n    <CommonFiltersForm\n      initialFilters={initialFilters}\n      childrenSchema={productFilterSchema}\n      onChange={onChange}\n    >\n      {(\n        errors: Record<string, string>,\n        filters: ProductsFilters,\n        handleChange: <K extends keyof ProductsFilters>(key: K, value: ProductsFilters[K]) => void,\n      ) => (\n        <div>\n          <label className={cn(styles.label)}>{t('CatalogFiltersForm.category.label')}</label>\n          <select\n            className={cn(styles.select)}\n            value={\n              !!filters?.categoryIds && filters?.categoryIds.length > 0\n                ? getFirst(filters.categoryIds)\n                : ''\n            }\n            onChange={(e) =>\n              handleChange('categoryIds', e.target.value ? [e.target.value] : undefined)\n            }\n          >\n            <option value=\"\">{t('CatalogFiltersForm.category.noCategory')}</option>\n            {categories.map((category) => (\n              <option key={category.id} value={category.id}>\n                {category.name}\n              </option>\n            ))}\n          </select>\n          {errors['categoryId'] && <p className={cn(styles.error)}>{t(errors['categoryId'])}</p>}\n        </div>\n      )}\n    </CommonFiltersForm>\n  );\n};\n\nexport default CatalogFiltersForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"CatalogFiltersForm-module_label-Tqj98\",\"subLabel\":\"CatalogFiltersForm-module_subLabel-Y52gR\",\"error\":\"CatalogFiltersForm-module_error-gDoyD\",\"input\":\"CatalogFiltersForm-module_input-U_dFv\",\"textarea\":\"CatalogFiltersForm-module_textarea-cmed8\",\"select\":\"CatalogFiltersForm-module_select-kjRLs\"};","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"CatalogScreen-module_list-A2if9\",\"item\":\"CatalogScreen-module_item-_wVRL\"};","import { stringifyObject } from 'src/shared/lib/stringifyObjectHelper';\nimport {\n  GetPageResult,\n  Category,\n  CategoriesFilters,\n  MutateRequest,\n  MutateCategoryBody,\n} from 'src/shared/types/serverTypes';\nimport { baseApi } from '../../../shared/api/baseApi';\n\nexport const categoryApi = baseApi.injectEndpoints({\n  // reducerPath: 'categoryApi',\n  // tagTypes: ['category'],\n  // baseQuery: baseQueryWithErrorHandler,\n  endpoints: (builder) => ({\n    getCategories: builder.query<GetPageResult<Category>, CategoriesFilters>({\n      query: (filters) =>\n        `/categories${!filters ? '' : `?${new URLSearchParams(stringifyObject(JSON.parse(JSON.stringify(filters)))).toString()}`}`,\n      // query: (filters) => '/category',\n      // providesTags: ['category'],\n      // keepUnusedDataFor: 10,\n    }),\n    updateCategory: builder.mutation<Category, MutateRequest<MutateCategoryBody>>({\n      query: (updateCategory) => ({\n        url: `/categories/${updateCategory.id}`,\n        method: 'PUT',\n        body: updateCategory.body,\n      }),\n      // invalidatesTags: ['category'],\n    }),\n    createCategory: builder.mutation<Category, MutateCategoryBody>({\n      query: (newCategory) => ({\n        url: `/categories/`,\n        method: 'POST',\n        body: newCategory,\n      }),\n      // invalidatesTags: ['category'],\n    }),\n  }),\n});\n\nexport const { useGetCategoriesQuery, useUpdateCategoryMutation, useCreateCategoryMutation } =\n  categoryApi;\n","import { stringifyObject } from 'src/shared/lib/stringifyObjectHelper';\nimport {\n  GetPageResult,\n  MutateProductBody,\n  MutateRequest,\n  Product,\n  ProductsFilters,\n} from 'src/shared/types/serverTypes';\nimport { baseApi } from '../../../shared/api/baseApi';\n\nexport const productApi = baseApi.injectEndpoints({\n  // export const productApi = createApi({\n  // reducerPath: 'productApi',\n  // tagTypes: ['product'],\n  // baseQuery: customBaseQuery,\n  endpoints: (builder) => ({\n    getProducts: builder.query<GetPageResult<Product>, ProductsFilters>({\n      query: (filters) =>\n        `/products${\n          !filters\n            ? ''\n            : `?${new URLSearchParams(stringifyObject(JSON.parse(JSON.stringify(filters)))).toString()}`\n        }`,\n      // query: (filters) => '/product',\n      // providesTags: ['product'],\n      // keepUnusedDataFor: 10,\n    }),\n    updateProduct: builder.mutation<Product, MutateRequest<MutateProductBody>>({\n      query: (updateProduct) => ({\n        url: `/products/${updateProduct.id}`,\n        method: 'PUT',\n        body: updateProduct.body,\n      }),\n      // invalidatesTags: ['product'],\n    }),\n    createProduct: builder.mutation<Product, MutateProductBody>({\n      query: (newProduct) => ({\n        url: `/products/`,\n        method: 'POST',\n        body: newProduct,\n      }),\n      // invalidatesTags: ['product'],\n    }),\n  }),\n});\n\nexport const { useGetProductsQuery, useUpdateProductMutation, useCreateProductMutation } =\n  productApi;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"CartButton-module_wrapper-Ec2jY\",\"button\":\"CartButton-module_button-DypJ8\"};","import { FC } from 'react';\nimport cn from 'clsx';\nimport { useTranslation } from 'react-i18next';\nimport style from './CartButton.module.scss';\nimport buttonStyle from '../../../../shared/ui/Button/Button.module.scss';\nimport Counter from '../../../../shared/ui/Counter/Counter';\n\nexport type CartButtonProps = {\n  count: number;\n  max?: number;\n  disabled?: boolean;\n  onCountChange?: (value: number) => void;\n};\n\nconst CartButton: FC<CartButtonProps> = ({\n  count,\n  max,\n  disabled,\n  onCountChange = () => {\n    /* nothing */\n  },\n}) => {\n  const { t } = useTranslation();\n\n  return (\n    <div className={cn(style.wrapper)}>\n      {count === 0 ? (\n        <button\n          className={cn({\n            [buttonStyle.button_disable]: disabled,\n            [buttonStyle.button_enable]: !disabled,\n            [style.button]: !disabled,\n            [buttonStyle.button]: true,\n          })}\n          disabled={disabled}\n          onClick={() => onCountChange(1)}\n        >\n          {t('CartButton.button')}\n        </button>\n      ) : (\n        <Counter\n          count={count}\n          min={0}\n          max={max}\n          disabled={disabled}\n          onDecrement={() => onCountChange(count - 1)}\n          onIncrement={() => onCountChange(count + 1)}\n          onInputChange={(value) => onCountChange(value)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default CartButton;\n","import { FC, memo } from 'react';\nimport cn from 'clsx';\nimport { useTranslation } from 'react-i18next';\nimport style from './ProductItem.module.scss';\nimport CartButton from '../../../../features/Cart/ui/CartButton/CartButton';\nimport cutStringHelper from '../../../../shared/lib/cutStringHelper';\nimport { Product } from '../../../../shared/types/serverTypes';\n\ntype ProductItemProps = Pick<Product, 'price' | 'name' | 'desc' | 'photo'> & {\n  onCountChange?: (value: number) => void;\n  count?: number;\n  withButton?: boolean;\n};\n\nconst ProductItem: FC<ProductItemProps> = ({\n  price,\n  photo,\n  name,\n  desc,\n  count = 0,\n  withButton = true,\n  onCountChange,\n}) => {\n  const { t } = useTranslation();\n  return (\n    <div className={cn(style.wrapper)}>\n      <div>\n        <img className={cn(style.image)} src={photo} alt={t('product.photo_alt', { name })} />\n      </div>\n      <div className={cn(style.title)}>\n        <h3>{name}</h3>\n      </div>\n      <div className={cn(style.price)}>\n        <span>{t('product.price', { price })}</span>\n      </div>\n      <div className={cn(style.description)}>\n        <p>{cutStringHelper(desc, 100) || t('product.description_undefined')}</p>\n      </div>\n      <div\n        className={cn(style.button)}\n        style={withButton ? { visibility: 'visible' } : { visibility: 'hidden' }}\n      >\n        <CartButton count={count} onCountChange={onCountChange} />\n      </div>\n    </div>\n  );\n};\n\nexport default memo(ProductItem) as typeof ProductItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ProductItem-module_wrapper-lynfG\",\"image\":\"ProductItem-module_image-ZpwnO\",\"title\":\"ProductItem-module_title-JqfTx\",\"price\":\"ProductItem-module_price-_nsav\",\"description\":\"ProductItem-module_description-KITth\",\"button\":\"ProductItem-module_button-kXRBt\"};","const cutStringHelper = (value: string | undefined, length: number): string | undefined => {\n  return value && value.length > length ? value.substring(0, length - 3) + '...' : value;\n};\n\nexport default cutStringHelper;\n","import * as yup from 'yup';\nimport { CategoriesFilters, CommonFilters } from '../../../shared/types/serverTypes';\n\nexport const categoryFilterSchema: yup.ObjectSchema<Omit<CategoriesFilters, keyof CommonFilters>> =\n  yup.object({\n    name: yup.string().optional(),\n    ids: yup.array().optional(),\n  });\n","import { categoryFilterSchema } from 'src/entities/Category/model/CategoryFilterSchema';\nimport { CommonFiltersForm } from 'src/features/forms/CommonFiltersForm/CommonFiltersForm';\nimport { CategoriesFilters } from 'src/shared/types/serverTypes';\n\ntype CategoriesFiltersFormProps = {\n  initialFilters: CategoriesFilters;\n  onChange: (filters: CategoriesFilters) => void;\n};\nconst CategoriesFiltersForm = ({ initialFilters, onChange }: CategoriesFiltersFormProps) => {\n  return (\n    <CommonFiltersForm\n      initialFilters={initialFilters}\n      childrenSchema={categoryFilterSchema}\n      onChange={onChange}\n    />\n  );\n};\n\nexport default CategoriesFiltersForm;\n","import { FC, memo } from 'react';\nimport cn from 'clsx';\nimport { useTranslation } from 'react-i18next';\nimport style from './CategoryItem.module.scss';\nimport { Category } from '../../../../shared/types/serverTypes';\n\ntype CategoryItemProps = Pick<Category, 'name' | 'photo'>;\n\nconst CategoryItem: FC<CategoryItemProps> = ({ photo, name }) => {\n  const { t } = useTranslation();\n  return (\n    <div className={cn(style.wrapper)}>\n      <div>\n        <img className={cn(style.image)} src={photo} alt={t('category.photo_alt', { name })} />\n      </div>\n      <div className={cn(style.title)}>\n        <h3>{name}</h3>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(CategoryItem) as typeof CategoryItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"CategoryItem-module_wrapper-f50Uh\",\"image\":\"CategoryItem-module_image-TrFNY\",\"title\":\"CategoryItem-module_title-zysAY\"};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"CategoryEditForm-module_form-j1HdD\",\"label\":\"CategoryEditForm-module_label-rZb92\",\"error\":\"CategoryEditForm-module_error-cVo_Z\",\"input\":\"CategoryEditForm-module_input-ARD0v\",\"textarea\":\"CategoryEditForm-module_textarea-AfRwo\",\"select\":\"CategoryEditForm-module_select-D7nhr\",\"button\":\"CategoryEditForm-module_button-dl9zg\",\"customFileButton\":\"CategoryEditForm-module_customFileButton-ytWwr\"};","import React from 'react';\nimport cn from 'clsx';\nimport { useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\nimport styles from './CategoryEditForm.module.scss';\nimport { API_BASE_URL } from '../../../shared/configs/api';\nimport { getTokenFromLocalStorage } from '../../../shared/lib/localStorage';\nimport Button from '../../../shared/ui/Button/Button';\n\ntype CategoryEditFormFields = {\n  name: string;\n  photo?: { url: string };\n};\n\ntype CategoryEditFormProps = {\n  onSubmit: (data: CategoryEditFormFields) => void;\n  defaultValues?: CategoryEditFormFields;\n  categories?: string[];\n};\n\nconst CategoryEditForm: React.FC<CategoryEditFormProps> = ({ onSubmit, defaultValues }) => {\n  const { t } = useTranslation();\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    clearErrors,\n    setError,\n    formState: { errors },\n  } = useForm({\n    defaultValues,\n  });\n\n  const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const token = getTokenFromLocalStorage();\n    if (!token) throw new Error('No token');\n\n    const [file] = e.target.files ?? [];\n    if (!file) return;\n\n    const body = new FormData();\n    body.append('file', file);\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/upload`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n        method: 'POST',\n        body,\n      });\n\n      if (!response.ok) {\n        throw new Error('Ошибка загрузки файла');\n      }\n\n      const { url } = await response.json();\n      setValue('photo.url', url);\n      clearErrors('photo.url');\n    } catch {\n      setError('photo.url', {\n        type: 'manual',\n        message: t('CategoryEdit.errors.uploadError'),\n      });\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className={cn(styles.form)}>\n      <div>\n        <label className={cn(styles.label)}>{t('CategoryEdit.name')}</label>\n        <input\n          className={cn(styles.input, { [styles.error]: errors.name })}\n          type=\"text\"\n          {...register('name', { required: t('CategoryEdit.errors.nameRequired') })}\n          placeholder={t('CategoryEdit.namePlaceholder')}\n        />\n        {typeof errors?.name?.message === 'string' && (\n          <p className={styles.error}>{errors.name.message}</p>\n        )}\n      </div>\n\n      <div>\n        <label className={cn(styles.label)}>{t('CategoryEdit.photo')}</label>\n        <div style={{ display: 'flex', width: '100%', alignItems: 'center', gap: '10px' }}>\n          <input\n            className={cn(styles.input, { [styles.error]: errors.photo })}\n            type=\"text\"\n            {...register('photo.url', {\n              validate: (value) =>\n                value === undefined ||\n                value === null ||\n                value === '' ||\n                value.trim().startsWith('http') ||\n                t('CategoryEdit.errors.photosInvalid'),\n            })}\n            placeholder={t('CategoryEdit.photoPlaceholder')}\n          />\n\n          <input\n            type=\"file\"\n            id=\"file-upload\"\n            onChange={handleFileUpload}\n            style={{ display: 'none' }}\n          />\n          <label\n            htmlFor=\"file-upload\"\n            className={styles.customFileButton}\n            style={{ whiteSpace: 'nowrap' }}\n          >\n            Выберите файл\n          </label>\n        </div>\n        {errors.photo && errors.photo?.url && (\n          <p className={styles.error}>{errors.photo?.url?.message}</p>\n        )}\n      </div>\n\n      <Button\n        className={styles.button}\n        lable={t('CategoryEdit.button')}\n        type=\"submit\"\n        disabled={false}\n      />\n    </form>\n  );\n};\n\nexport default CategoryEditForm;\n","import { ComponentType } from 'react';\nimport style from './withEditMode.module.scss';\n\nfunction withEditMode<P extends object>(\n  WrappedComponent: ComponentType<P>,\n): ComponentType<P & { onEdit: () => void }> {\n  const ComponentWithEditMode = (props: P & { onEdit: () => void }) => {\n    const { onEdit, ...rest } = props;\n\n    return (\n      <div className={style.editWrapper}>\n        <WrappedComponent {...(rest as P)} />\n        <button className={style.editButton} onClick={onEdit}>\n          Edit\n        </button>\n      </div>\n    );\n  };\n\n  ComponentWithEditMode.displayName = `withEditMode(${\n    WrappedComponent.displayName || WrappedComponent.name || 'Component'\n  })`;\n\n  return ComponentWithEditMode;\n}\n\nexport default withEditMode;\n","// extracted by mini-css-extract-plugin\nexport default {\"editWrapper\":\"withEditMode-module_editWrapper-E4NSR\",\"editButton\":\"withEditMode-module_editButton-MpC7u\"};","// extracted by mini-css-extract-plugin\nexport default {\"modalOverlay\":\"Modal-module_modalOverlay-cEDCd\",\"modalBox\":\"Modal-module_modalBox-iA6nu\",\"close\":\"Modal-module_close-MDpcm\",\"text\":\"Modal-module_text-L169J\"};","import { FC, ReactNode } from 'react';\nimport { createPortal } from 'react-dom';\nimport style from './Modal.module.scss';\n\ntype ModalProps = {\n  visible: boolean;\n  setVisible: (visible: boolean) => void;\n  children?: ReactNode;\n};\n\nconst Modal: FC<ModalProps> = ({ visible, setVisible, children }) => {\n  return visible\n    ? createPortal(\n        <div className={style.modalOverlay}>\n          <div className={style.modalBox}>\n            <div className={style.close} onClick={() => setVisible(false)} />\n            <div className={style.text}>{children}</div>\n          </div>\n        </div>,\n        document.body,\n      )\n    : null;\n};\n\nexport default Modal;\n","import React, { useCallback, useState } from 'react';\nimport cn from 'clsx';\nimport { useTranslation } from 'react-i18next';\nimport styles from './CategoriesEditScreen.module.scss';\nimport CategoriesFiltersForm from './CategoriesFilterForm/CategoriesFilterForm';\nimport {\n  useCreateCategoryMutation,\n  useGetCategoriesQuery,\n  useUpdateCategoryMutation,\n} from '../../entities/Category/api/categoryApi';\nimport CategoryItem from '../../entities/Category/ui/CategoryItem/CategoryItem';\nimport CategoryEditForm from '../../features/forms/CategoryEditForm/CategoryEditForm';\nimport withEditMode from '../../shared/hocs/withEditMode';\nimport useDataListController from '../../shared/hooks/useDataListController';\nimport { CategoriesFilters, Category, MutateCategoryBody } from '../../shared/types/serverTypes';\nimport Button from '../../shared/ui/Button/Button';\nimport ComponentFetchList from '../../shared/ui/ComponentFetchList/ComponentFetchList';\nimport Modal from '../../shared/ui/Modal/Modal';\nimport PageLayout from '../../shared/ui/PageLayout/PageLayout';\n\nconst EditCategoryItem = withEditMode(CategoryItem);\n\nconst CategoriesEditScreen: React.FC = () => {\n  const { t } = useTranslation();\n\n  const [defaultItem] = useState<Category>({ id: '', name: '', photo: '' } as Category);\n\n  const {\n    items,\n    handlerFiltersChange,\n    handlerFetchItems,\n    isSuccess,\n    error,\n    editingItem,\n    handlerEditItem,\n    handlerAddClick,\n    handlerEditClick,\n    clearEditItem,\n  } = useDataListController<Category, CategoriesFilters, MutateCategoryBody>(\n    useGetCategoriesQuery,\n    useUpdateCategoryMutation,\n    useCreateCategoryMutation,\n  );\n\n  const renderCallback = useCallback(\n    (item: Category) => (\n      <div className={cn(styles.item)} key={item.id}>\n        <EditCategoryItem\n          onEdit={() => handlerEditClick(item)}\n          name={item.name}\n          photo={item.photo}\n        />\n      </div>\n    ),\n    [],\n  );\n\n  return (\n    <>\n      <PageLayout\n        header={\n          <Button\n            className={styles.addButton}\n            lable=\"Add category\" // TODO: add translation\n            onClick={() => handlerAddClick(defaultItem)}\n            disabled={!isSuccess}\n          />\n        }\n        sidebar={\n          <>\n            <CategoriesFiltersForm initialFilters={{}} onChange={handlerFiltersChange} />\n          </>\n        }\n        footer={\n          error && (\n            <div className={styles.footer}>\n              <div className={styles.error}>\n                {(error as string[]).map((str) => t(str)).join('\\n')}\n              </div>\n            </div>\n          )\n        }\n      >\n        <ComponentFetchList\n          items={items}\n          doFetch={handlerFetchItems}\n          render={renderCallback}\n          oneObserve={true}\n        />\n      </PageLayout>\n      {editingItem && (\n        <Modal\n          setVisible={(visible) => (visible ? null : clearEditItem())}\n          visible={editingItem !== null}\n        >\n          <CategoryEditForm\n            defaultValues={{\n              name: editingItem.name,\n              photo: editingItem.photo ? { url: editingItem.photo } : undefined,\n            }}\n            onSubmit={(data) => {\n              const { photo, ...rest } = data;\n              handlerEditItem(editingItem.id, {\n                ...rest,\n                photo: photo?.url,\n              });\n              clearEditItem();\n            }}\n          />\n        </Modal>\n      )}\n    </>\n  );\n};\n\nexport default CategoriesEditScreen;\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"ProductsEditScreen-module_item-bOSPI\",\"wrapper\":\"ProductsEditScreen-module_wrapper-D5FLc\",\"content\":\"ProductsEditScreen-module_content-V__tD\",\"addButton\":\"ProductsEditScreen-module_addButton-jB99E\",\"header\":\"ProductsEditScreen-module_header-PYOLy\",\"footer\":\"ProductsEditScreen-module_footer-hF_1_\",\"error\":\"ProductsEditScreen-module_error-Ael_7\"};","import cn from 'clsx';\nimport { useTranslation } from 'react-i18next';\nimport { createProductFiltersSchema } from 'src/entities/Product/model/ProductFilterSchema';\nimport { CommonFiltersForm } from 'src/features/forms/CommonFiltersForm/CommonFiltersForm';\nimport { Category, ProductsFilters } from 'src/shared/types/serverTypes';\nimport styles from './ProductsFiltersForm.module.scss';\n// import { productFilterSchema } from 'src/entities/Product/model/ProductFilterSchema';\n\ntype ProductsFiltersFormProps = {\n  initialFilters: ProductsFilters;\n  categories: Category[];\n  onChange: (filters: ProductsFilters) => void;\n};\nconst ProductsFiltersForm = ({\n  initialFilters,\n  onChange,\n  categories,\n}: ProductsFiltersFormProps) => {\n  const getFirst = (array: string[]) => {\n    const [categoryId] = array;\n    return categoryId;\n  };\n  const { t } = useTranslation();\n\n  // const [productFilterSchema] = useState(createProductFiltersSchema(categories.map((category) => category.id)));\n  const productFilterSchema = createProductFiltersSchema(\n    categories?.map((category) => category.id),\n  );\n\n  return (\n    <CommonFiltersForm\n      initialFilters={initialFilters}\n      childrenSchema={productFilterSchema}\n      onChange={onChange}\n    >\n      {(\n        errors: Record<string, string>,\n        filters: ProductsFilters,\n        handleChange: <K extends keyof ProductsFilters>(key: K, value: ProductsFilters[K]) => void,\n      ) => (\n        <div>\n          <label className={cn(styles.label)}>{t('ProductsFiltersForm.category.label')}</label>\n          <select\n            className={cn(styles.select)}\n            value={\n              !!filters?.categoryIds && filters?.categoryIds.length > 0\n                ? getFirst(filters.categoryIds)\n                : ''\n            }\n            onChange={(e) =>\n              handleChange('categoryIds', e.target.value ? [e.target.value] : undefined)\n            }\n          >\n            <option value=\"\">{t('ProductsFiltersForm.category.noCategory')}</option>\n            {categories.map((category) => (\n              <option key={category.id} value={category.id}>\n                {category.name}\n              </option>\n            ))}\n          </select>\n          {errors['categoryId'] && <p className={cn(styles.error)}>{t(errors['categoryId'])}</p>}\n        </div>\n      )}\n    </CommonFiltersForm>\n  );\n};\n\nexport default ProductsFiltersForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"ProductsFiltersForm-module_label-Pmr26\",\"subLabel\":\"ProductsFiltersForm-module_subLabel-dllly\",\"error\":\"ProductsFiltersForm-module_error-Ix4Kh\",\"input\":\"ProductsFiltersForm-module_input-voUye\",\"textarea\":\"ProductsFiltersForm-module_textarea-VNUFC\",\"select\":\"ProductsFiltersForm-module_select-CvJaE\"};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"ProductEditForm-module_form-r1ogx\",\"label\":\"ProductEditForm-module_label-w0OE9\",\"error\":\"ProductEditForm-module_error-CTVFG\",\"input\":\"ProductEditForm-module_input-dWjEw\",\"textarea\":\"ProductEditForm-module_textarea-vSPmU\",\"select\":\"ProductEditForm-module_select-Wi_yp\",\"button\":\"ProductEditForm-module_button-b3qp8\",\"customFileButton\":\"ProductEditForm-module_customFileButton-KuSjB\"};","import React from 'react';\nimport cn from 'clsx';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\nimport styles from './ProductEditForm.module.scss';\nimport { API_BASE_URL } from '../../../shared/configs/api';\nimport { getTokenFromLocalStorage } from '../../../shared/lib/localStorage';\nimport Button from '../../../shared/ui/Button/Button';\n\ntype ProductEditFormFields = {\n  name: string;\n  photo?: { url: string };\n  description?: string;\n  price: number;\n  oldPrice?: number;\n  category: string;\n};\n\ntype ProductEditFormProps = {\n  onSubmit: (data: ProductEditFormFields) => void;\n  defaultValues?: ProductEditFormFields;\n  categories?: string[];\n};\n\nconst ProductEditForm: React.FC<ProductEditFormProps> = ({\n  onSubmit,\n  defaultValues,\n  categories,\n}) => {\n  const { t } = useTranslation();\n  const {\n    register,\n    handleSubmit,\n    control,\n    setValue,\n    clearErrors,\n    setError,\n    formState: { errors },\n  } = useForm({\n    defaultValues,\n  });\n\n  const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const token = getTokenFromLocalStorage();\n    if (!token) throw new Error('No token');\n\n    const [file] = e.target.files ?? [];\n    if (!file) return;\n\n    const body = new FormData();\n    body.append('file', file);\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/upload`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n        method: 'POST',\n        body,\n      });\n\n      if (!response.ok) {\n        throw new Error('Ошибка загрузки файла');\n      }\n\n      const { url } = await response.json();\n      setValue('photo.url', url);\n      clearErrors('photo.url');\n    } catch (err) {\n      console.error('Ошибка загрузки файла:', err);\n      setError('photo.url', {\n        type: 'manual',\n        message: 'Не удалось загрузить файл. Попробуйте еще раз.',\n      });\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className={cn(styles.form)}>\n      <div>\n        <label className={cn(styles.label)}>{t('ProductEdit.name')}</label>\n        <input\n          className={cn(styles.input, { [styles.error]: errors.name })}\n          type=\"text\"\n          {...register('name', { required: t('ProductEdit.errors.nameRequired') })}\n          placeholder={t('ProductEdit.namePlaceholder')}\n        />\n        {typeof errors?.name?.message === 'string' && (\n          <p className={styles.error}>{errors.name.message}</p>\n        )}\n      </div>\n\n      <div>\n        <label className={cn(styles.label)}>{t('ProductEdit.photo')}</label>\n        <div style={{ display: 'flex', width: '100%', alignItems: 'center', gap: '10px' }}>\n          <input\n            className={cn(styles.input, { [styles.error]: errors.photo })}\n            type=\"text\"\n            {...register('photo.url', {\n              validate: (value) =>\n                value === undefined ||\n                value === null ||\n                value === '' ||\n                value.trim().startsWith('http') ||\n                t('ProductEdit.errors.photosInvalid'),\n            })}\n            placeholder={t('ProductEdit.photoPlaceholder')}\n          />\n\n          <input\n            type=\"file\"\n            id=\"file-upload\"\n            onChange={handleFileUpload}\n            style={{ display: 'none' }}\n          />\n          <label\n            htmlFor=\"file-upload\"\n            className={styles.customFileButton}\n            style={{ whiteSpace: 'nowrap' }}\n          >\n            Выберите файл\n          </label>\n        </div>\n        {errors.photo && errors.photo?.url && (\n          <p className={styles.error}>{errors.photo?.url?.message}</p>\n        )}\n      </div>\n\n      <div>\n        <label className={cn(styles.label)}>{t('ProductEdit.description')}</label>\n        <textarea\n          className={cn(styles.textarea)}\n          {...register('description')}\n          placeholder={t('ProductEdit.descriptionPlaceholder')}\n        />\n      </div>\n\n      <div>\n        <label className={cn(styles.label)}>{t('ProductEdit.price')}</label>\n        <input\n          className={cn(styles.input, { [styles.error]: errors.price })}\n          type=\"text\"\n          pattern=\"^-?\\d*(\\.\\d+)?$\"\n          {...register('price', {\n            required: t('ProductEdit.errors.priceRequired'),\n            min: { value: 0, message: t('ProductEdit.errors.priceMin') },\n          })}\n          placeholder={t('ProductEdit.pricePlaceholder')}\n        />\n        {errors.price && <p className={styles.error}>{errors.price.message}</p>}\n      </div>\n\n      <div>\n        <label className={cn(styles.label)}>{t('ProductEdit.oldPrice')}</label>\n        <input\n          className={cn(styles.input, { [styles.error]: errors.oldPrice })}\n          type=\"text\"\n          pattern=\"^-?\\d*(\\.\\d+)?$\"\n          {...register('oldPrice', {\n            min: { value: 0, message: t('ProductEdit.errors.priceMin') },\n          })}\n          placeholder={t('ProductEdit.oldPricePlaceholder')}\n        />\n      </div>\n\n      <div>\n        <label className={cn(styles.label)}>{t('ProductEdit.category')}</label>\n        <Controller\n          control={control}\n          name=\"category\"\n          rules={{ required: t('ProductEdit.errors.categoryRequired') }}\n          render={({ field }) => (\n            <select {...field} className={cn(styles.select)}>\n              <option value=\"\">{t('ProductEdit.selectCategory')}</option>\n              {categories?.map((cat) => (\n                <option key={cat} value={cat}>\n                  {cat}\n                </option>\n              ))}\n            </select>\n          )}\n        />\n        {errors.category && <p className={styles.error}>{errors.category.message}</p>}\n      </div>\n\n      <Button\n        className={styles.button}\n        lable={t('ProductEdit.button')}\n        type=\"submit\"\n        disabled={false}\n      />\n    </form>\n  );\n};\n\nexport default ProductEditForm;\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport cn from 'clsx';\nimport { useTranslation } from 'react-i18next';\nimport { Loader } from 'src/shared/ui/Loader/Loader';\nimport styles from './ProductsEditScreen.module.scss';\nimport ProductsFiltersForm from './ProductsFiltersForm/ProductsFiltersForm';\nimport { useGetCategoriesQuery } from '../../entities/Category/api/categoryApi';\nimport {\n  useCreateProductMutation,\n  useGetProductsQuery,\n  useUpdateProductMutation,\n} from '../../entities/Product/api/productApi';\nimport ProductItem from '../../entities/Product/ui/ProductItem/ProductItem';\nimport ProductEditForm from '../../features/forms/ProductEditForm/ProductEditForm';\nimport withEditMode from '../../shared/hocs/withEditMode';\nimport useDataListController from '../../shared/hooks/useDataListController';\nimport {\n  Category,\n  MutateProductBody,\n  Product,\n  ProductsFilters,\n} from '../../shared/types/serverTypes';\nimport Button from '../../shared/ui/Button/Button';\nimport ComponentFetchList from '../../shared/ui/ComponentFetchList/ComponentFetchList';\nimport Modal from '../../shared/ui/Modal/Modal';\nimport PageLayout from '../../shared/ui/PageLayout/PageLayout';\n\nconst EditProductItem = withEditMode(ProductItem);\n\nconst ProductsEditScreen: React.FC = () => {\n  const { t } = useTranslation();\n\n  const [defaultItem] = useState<Product>({\n    id: null,\n    category: null, //categories[0],\n    name: '',\n    price: 0,\n  } as unknown as Product);\n\n  // for categoties only\n  const [categories, setCategories] = useState<Category[]>([]);\n  const firstCategoryRender = useRef(true);\n  const {\n    data: categoryResponseData,\n    isFetching: isFetchingCategories,\n    isSuccess: isSuccessCategories,\n  } = useGetCategoriesQuery(\n    {},\n    {\n      //POSSIBLE WRONG\n      skip: !firstCategoryRender.current,\n    },\n  );\n\n  const categoryData = categoryResponseData?.data;\n  const categoryServerPagination = categoryResponseData?.pagination;\n\n  useEffect(() => {\n    if (\n      categoryData &&\n      !isFetchingCategories &&\n      (categoryServerPagination?.pageNumber !== 1 || firstCategoryRender.current)\n    ) {\n      setCategories((prev) => [...prev, ...categoryData]);\n      firstCategoryRender.current = false;\n    }\n  }, [categoryData, categoryServerPagination, isFetchingCategories]);\n\n  const [categoryNames, setCategoryNames] = useState<string[]>([]);\n\n  useEffect(() => {\n    setCategoryNames(categories.map((category) => category.name));\n  }, [categories]);\n  // for categoties only\n\n  const {\n    items,\n    currentFilters,\n    handlerFiltersChange,\n    handlerFetchItems,\n    isLoading,\n    error,\n    editingItem,\n    handlerEditItem,\n    handlerAddClick,\n    handlerEditClick,\n    clearEditItem,\n  } = useDataListController<Product, ProductsFilters, MutateProductBody>(\n    useGetProductsQuery,\n    useUpdateProductMutation,\n    useCreateProductMutation,\n  );\n\n  const renderCallback = useCallback(\n    (item: Product) => (\n      <div className={cn(styles.item)} key={item.id}>\n        <EditProductItem\n          name={item.name}\n          desc={item.desc}\n          price={item.price}\n          photo={item.photo}\n          withButton={false}\n          onEdit={() => handlerEditClick(item)}\n        />\n      </div>\n    ),\n    [],\n  );\n\n  return (\n    <>\n      <PageLayout\n        footer={\n          <>\n            {error && (\n              <div className={styles.footer}>\n                {/* <div className={styles.error}>{JSON.stringify(error)}</div> */}\n                <div className={styles.error}>\n                  {(error as string[]).map((str) => t(str)).join('\\n')}\n                </div>\n              </div>\n            )}\n          </>\n        }\n        header={\n          <>\n            <Button\n              className={styles.addButton}\n              lable=\"Add product\"\n              onClick={() => handlerAddClick(defaultItem)}\n              disabled={isLoading}\n            />\n          </>\n        }\n        sidebar={\n          isSuccessCategories ? (\n            <>\n              <ProductsFiltersForm\n                initialFilters={currentFilters}\n                onChange={handlerFiltersChange}\n                categories={categories}\n              />\n            </>\n          ) : (\n            <Loader />\n          )\n        }\n      >\n        <div className={cn(styles.list)}>\n          <ComponentFetchList\n            items={items}\n            doFetch={handlerFetchItems}\n            render={renderCallback}\n            oneObserve={true}\n          />\n        </div>\n      </PageLayout>\n      {editingItem && (\n        <Modal\n          setVisible={(visible) => (visible ? null : clearEditItem())}\n          visible={editingItem !== null}\n        >\n          <ProductEditForm\n            defaultValues={{\n              name: editingItem.name,\n              price: editingItem.price,\n              description: editingItem.desc,\n              category: editingItem.category?.name,\n              oldPrice: editingItem.oldPrice,\n              photo: editingItem.photo ? { url: editingItem.photo } : undefined,\n            }}\n            categories={categoryNames}\n            onSubmit={(data) => {\n              const categoryId =\n                categories?.find((category) => category.name === data.category)?.id ?? '';\n              const { category: _category, description: desc, photo, ...rest } = data;\n              void _category;\n              handlerEditItem(editingItem.id, {\n                ...rest,\n                desc,\n                categoryId,\n                photo: photo?.url,\n              });\n              clearEditItem();\n            }}\n          />\n        </Modal>\n      )}\n    </>\n  );\n};\n\nexport default ProductsEditScreen;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"ChangePassword-module_form-LfLa9\",\"title\":\"ChangePassword-module_title-fpJMA\",\"label\":\"ChangePassword-module_label-TONk1\",\"error\":\"ChangePassword-module_error-YmfJe\",\"input\":\"ChangePassword-module_input-phebh\",\"textarea\":\"ChangePassword-module_textarea-rLieK\",\"button\":\"ChangePassword-module_button-Oo3Jx\"};","import React from 'react';\nimport cn from 'clsx';\nimport { useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\nimport styles from './ChangePassword.module.scss';\nimport Button from '../../../shared/ui/Button/Button';\n\nexport type ChangePasswordFields = {\n  oldPassword: string;\n  newPassword: string;\n  confirmPassword: string;\n};\n\ntype ChangePasswordProps = {\n  onSubmit: (data: ChangePasswordFields, e: React.BaseSyntheticEvent | undefined) => void;\n};\n\nconst ChangePassword: React.FC<ChangePasswordProps> = ({ onSubmit }) => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    watch,\n  } = useForm<ChangePasswordFields>();\n  const newPassword = watch('newPassword');\n  const { t } = useTranslation();\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className={cn(styles.form)}>\n      <h2 className={cn(styles.title)}>{t('ChangePassword.title')}</h2>\n      <div>\n        <label className={cn(styles.label)}>{t('ChangePassword.oldPassword')}</label>\n        <input\n          className={cn(styles.input, { [styles.error]: errors.oldPassword })}\n          type=\"password\"\n          {...register('oldPassword', { required: t('ChangePassword.errors.oldPasswordRequired') })}\n          placeholder={t('ChangePassword.oldPasswordPlaceholder')}\n        />\n        {typeof errors.oldPassword?.message === 'string' && (\n          <p className={styles.error}>{errors.oldPassword.message}</p>\n        )}\n      </div>\n      <div>\n        <label className={cn(styles.label)}>{t('ChangePassword.newPassword')}</label>\n        <input\n          className={cn(styles.input, { [styles.error]: errors.newPassword })}\n          type=\"password\"\n          {...register('newPassword', { required: t('ChangePassword.errors.newPasswordRequired') })}\n          placeholder={t('ChangePassword.newPasswordPlaceholder')}\n        />\n        {typeof errors.newPassword?.message === 'string' && (\n          <p className={styles.error}>{errors.newPassword.message}</p>\n        )}\n      </div>\n      <div>\n        <label className={cn(styles.label)}>{t('ChangePassword.confirmPassword')}</label>\n        <input\n          className={cn(styles.input, { [styles.error]: errors.confirmPassword })}\n          type=\"password\"\n          {...register('confirmPassword', {\n            required: t('ChangePassword.errors.confirmPasswordRequired'),\n            validate: (value) =>\n              value === newPassword || t('ChangePassword.errors.confirmPasswordMatch'),\n          })}\n          placeholder={t('ChangePassword.confirmPasswordPlaceholder')}\n        />\n        {typeof errors.confirmPassword?.message === 'string' && (\n          <p className={styles.error}>{errors.confirmPassword.message}</p>\n        )}\n      </div>\n      <Button\n        className={styles.button}\n        lable={t('ChangePassword.button')}\n        type=\"submit\"\n        disabled={false}\n      />\n    </form>\n  );\n};\n\nexport default ChangePassword;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"EditProfile-module_form-Ne3Uq\",\"title\":\"EditProfile-module_title-vMTug\",\"label\":\"EditProfile-module_label-pcXi1\",\"error\":\"EditProfile-module_error-l6vJX\",\"input\":\"EditProfile-module_input-jqcQH\",\"textarea\":\"EditProfile-module_textarea-c0S5u\",\"button\":\"EditProfile-module_button-lbhFI\"};","import React from 'react';\nimport cn from 'clsx';\nimport { useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\nimport styles from './EditProfile.module.scss';\nimport Button from '../../../shared/ui/Button/Button';\n\nexport type EditProfileFields = {\n  userName: string;\n};\n\ntype EditProfileProps = {\n  onSubmit: (data: EditProfileFields, e: React.BaseSyntheticEvent | undefined) => void;\n  defaultValues?: EditProfileFields;\n};\n\nconst EditProfile: React.FC<EditProfileProps> = ({ onSubmit, defaultValues }) => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({ defaultValues });\n  const { t } = useTranslation();\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className={cn(styles.form)}>\n      <h2 className={cn(styles.title)}>{t('EditProfile.title')}</h2>\n      <div>\n        <label className={cn(styles.label)}>{t('EditProfile.userName')}</label>\n        <input\n          className={cn(styles.input, { [styles.error]: errors.userName })}\n          {...register('userName', { required: t('EditProfile.errors.userNameRequired') })}\n          placeholder={t('EditProfile.userNamePlaceholder')}\n        />\n        {typeof errors.userName?.message === 'string' && (\n          <p className={styles.error}>{errors.userName.message}</p>\n        )}\n      </div>\n      <Button\n        className={styles.button}\n        lable={t('EditProfile.button')}\n        disabled={false}\n        type=\"submit\"\n      />\n    </form>\n  );\n};\n\nexport default EditProfile;\n","import { baseApi } from 'src/shared/api/baseApi';\nimport { ChangePasswordBody, Profile, UpdateProfileBody } from 'src/shared/types/serverTypes';\n\nexport const profileApi = baseApi.injectEndpoints({\n  endpoints: (builder) => ({\n    getProfile: builder.query<Profile, void>({\n      query: () => '/profile',\n      providesTags: ['Profile'],\n      // keepUnusedDataFor: 10,\n    }),\n    updateProfile: builder.mutation<Profile, UpdateProfileBody>({\n      query: (updateProfile) => ({\n        url: `/profile`,\n        method: 'PUT',\n        body: updateProfile,\n      }),\n    }),\n    changePassword: builder.mutation<Profile, ChangePasswordBody>({\n      query: (newPassword) => ({\n        url: `/profile/change-password`,\n        method: 'POST',\n        body: newPassword,\n      }),\n    }),\n  }),\n});\n\nexport const { useGetProfileQuery, useUpdateProfileMutation, useChangePasswordMutation } =\n  profileApi;\n","import React, { useCallback } from 'react';\nimport cn from 'clsx';\nimport { useTranslation } from 'react-i18next';\nimport { Loader } from 'src/shared/ui/Loader/Loader';\nimport ChangePassword, { ChangePasswordFields } from './ChangePassword/ChangePassword';\nimport EditProfile, { EditProfileFields } from './EditProfile/EditProfile';\nimport styles from './ProfileScreen.module.scss';\nimport {\n  useChangePasswordMutation,\n  useGetProfileQuery,\n  useUpdateProfileMutation,\n} from '../../entities/Profile/api/profileApi';\n\nconst ProfileScreen: React.FC = () => {\n  const { t } = useTranslation();\n\n  const {\n    data: currentUser,\n    isLoading: profileIsLoading,\n    isUninitialized,\n    error: profileError,\n  } = useGetProfileQuery();\n  const [updateProfile, { error: updateProfileError }] = useUpdateProfileMutation();\n  const [changePassword, { error: changePasswordError }] = useChangePasswordMutation();\n\n  const handleEditProfileSubmit = useCallback(\n    async (data: EditProfileFields, e: React.BaseSyntheticEvent | undefined) => {\n      e?.preventDefault();\n      await updateProfile({ name: data.userName });\n    },\n    [],\n  );\n\n  const handleChangePasswordSubmit = useCallback(\n    async (data: ChangePasswordFields, e: React.BaseSyntheticEvent | undefined) => {\n      e?.preventDefault();\n      await changePassword({ password: data.oldPassword, newPassword: data.newPassword });\n    },\n    [],\n  );\n\n  if (isUninitialized || profileIsLoading) {\n    // return <div>{'loading'}</div>;\n    return <Loader />;\n  }\n\n  const error = [\n    ...(profileError ? (profileError as string[]) : []),\n    ...(updateProfileError ? (updateProfileError as string[]) : []),\n    ...(changePasswordError ? (changePasswordError as string[]) : []),\n  ];\n\n  return (\n    <div className={cn(styles.page)}>\n      <h1 className={cn(styles.title)}>{t('ProfileScreen.title')}</h1>\n      <div>\n        <EditProfile\n          onSubmit={handleEditProfileSubmit}\n          defaultValues={currentUser && { userName: currentUser?.name }}\n        />\n      </div>\n      <div>\n        <ChangePassword onSubmit={handleChangePasswordSubmit} />\n      </div>\n      {error && (\n        <div className={styles.error}>{(error as string[]).map((str) => t(str)).join('\\n')}</div>\n      )}\n    </div>\n  );\n};\n\nexport default ProfileScreen;\n","// extracted by mini-css-extract-plugin\nexport default {\"tab\":\"RootScreen-module_tab-kmy0x\",\"tabItem\":\"RootScreen-module_tabItem-PZy9A\",\"centeredList\":\"RootScreen-module_centeredList-Xrvhe\"};","import cn from 'clsx';\nimport { useTranslation } from 'react-i18next';\nimport { orderFilterSchema } from 'src/entities/Order/model/OrderFilterSchema';\nimport { OrdersFilters, OrderStatus } from 'src/shared/types/serverTypes';\nimport styles from './UserOrdersFiltersForm.module.scss';\nimport { CommonFiltersForm } from '../../../features/forms/CommonFiltersForm/CommonFiltersForm';\n\ntype UserOrdersFiltersFormProps = {\n  initialFilters: OrdersFilters;\n  onChange: (filters: OrdersFilters) => void;\n};\nconst UserOrdersFiltersForm = ({ initialFilters, onChange }: UserOrdersFiltersFormProps) => {\n  const { t } = useTranslation();\n\n  return (\n    <CommonFiltersForm\n      initialFilters={initialFilters}\n      childrenSchema={orderFilterSchema}\n      onChange={onChange}\n    >\n      {(\n        errors: Record<string, string>,\n        filters: OrdersFilters,\n        handleChange: <K extends keyof OrdersFilters>(key: K, value: OrdersFilters[K]) => void,\n      ) => (\n        <div>\n          <label className={cn(styles.label)}>\n            {t('UserOrdersFiltersForm.status.label')}\n            <select\n              className={cn(styles.select)}\n              value={filters?.status || ''}\n              onChange={(e) =>\n                handleChange('status', e.target.value ? (e.target.value as OrderStatus) : undefined)\n              }\n            >\n              <option value=\"\">{t('UserOrdersFiltersForm.status.noStatus')}</option>\n              <option value={OrderStatus.Delivered}>{t('OrderStatus.delivered')}</option>\n              <option value={OrderStatus.InTransit}>{t('OrderStatus.in_transit')}</option>\n              <option value={OrderStatus.OrderCancelled}>{t('OrderStatus.order_cancelled')}</option>\n              <option value={OrderStatus.Packaging}>{t('OrderStatus.packaging')}</option>\n              <option value={OrderStatus.PendingConfirmation}>\n                {t('OrderStatus.pending_confirmation')}\n              </option>\n              <option value={OrderStatus.Processing}>{t('OrderStatus.processing')}</option>\n              <option value={OrderStatus.ReturnRequested}>\n                {t('OrderStatus.return_requested')}\n              </option>\n              <option value={OrderStatus.WaitingForDelivery}>\n                {t('OrderStatus.waiting_for_delivery')}\n              </option>\n            </select>\n          </label>\n          {errors['status'] && <p className={cn(styles.error)}>{t(errors['status'])}</p>}\n        </div>\n      )}\n    </CommonFiltersForm>\n  );\n};\n\nexport default UserOrdersFiltersForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"UserOrdersFiltersForm-module_label-kZzpq\",\"subLabel\":\"UserOrdersFiltersForm-module_subLabel-uhrA4\",\"error\":\"UserOrdersFiltersForm-module_error-v2SDC\",\"input\":\"UserOrdersFiltersForm-module_input-U5X0S\",\"textarea\":\"UserOrdersFiltersForm-module_textarea-iddbp\",\"select\":\"UserOrdersFiltersForm-module_select-VQW3Q\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"UserOrdersScreen-module_wrapper-OXBsg\",\"content\":\"UserOrdersScreen-module_content-ScsO2\",\"orders\":\"UserOrdersScreen-module_orders-xMv9R\",\"products\":\"UserOrdersScreen-module_products-ABPGG\",\"selectedOrder\":\"UserOrdersScreen-module_selectedOrder-MrYiw\",\"addButton\":\"UserOrdersScreen-module_addButton-u5pkD\",\"footer\":\"UserOrdersScreen-module_footer-vlVav\",\"error\":\"UserOrdersScreen-module_error-w_pFs\"};","// extracted by mini-css-extract-plugin\nexport default {\"orderItem\":\"OrderItem-module_orderItem-WRyOm\",\"row\":\"OrderItem-module_row-KwDyd\",\"label\":\"OrderItem-module_label-VQQRN\",\"value\":\"OrderItem-module_value-ItCOE\"};","import React, { memo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styles from './OrderItem.module.scss';\n\ntype OrderItemProps = {\n  createdAt: Date;\n  updatedAt: Date;\n  status: string;\n  totalPrice: number;\n};\n\nconst OrderItem: React.FC<OrderItemProps> = ({ createdAt, updatedAt, status, totalPrice }) => {\n  const { t } = useTranslation();\n\n  const orderStatus = t(`OrderStatus.${status}`);\n\n  return (\n    <div className={styles.orderItem}>\n      <div className={styles.row}>\n        <span className={styles.label}>{t('OrderItem.createdAt', { createdAt })}</span>\n        <span className={styles.value}>{t('OrderItem.totalPrice', { totalPrice })}</span>\n      </div>\n      <div className={styles.row}>\n        <span className={styles.label}>{t('OrderItem.status', { status: orderStatus })}</span>\n        <span className={styles.value}>{t('OrderItem.updatedAt', { updatedAt })}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(OrderItem) as typeof OrderItem;\n","import OrdersEditScreen from 'src/pages/OrderScreen/OrdersEditScreen';\nimport AuthScreen, { AuthAction } from '../../pages/AuthScreen/AuthScreen';\nimport CartScreen from '../../pages/CartScreen/CartScreen';\nimport CatalogScreen from '../../pages/CatalogScreen/CatalogScreen';\nimport CategoriesEditScreen from '../../pages/CategoriesScreen/CategoriesEditScreen';\nimport ProductsEditScreen from '../../pages/ProductsScreen/ProductsEditScreen';\nimport ProfileScreen from '../../pages/ProfileScreen/ProfileScreen';\nimport RootScreen from '../../pages/RootScreen/RootScreen';\nimport UserOrdersScreen from '../../pages/UserOrdersScreen/UserOrdersScreen';\nimport { AuthenticationState } from '../../shared/hocs/withAuthenticationState';\nimport { NavItem } from '../../shared/ui/NavigationBar/NavigationBar';\n\nconst homeMenuItems: NavItem[] = [\n  { label: 'Routes.Home.label', path: '/', element: <RootScreen /> },\n];\n\nconst shopMenuItems: NavItem[] = [\n  { label: 'Routes.Catalog.label', path: '/catalog', element: <CatalogScreen /> },\n  { label: 'Routes.Cart.label', path: '/cart', element: <CartScreen /> },\n  {\n    label: 'Routes.UserOrders.label',\n    authenticationState: AuthenticationState.Authenticated,\n    path: '/userOrders',\n    element: <UserOrdersScreen />,\n  },\n];\n\nconst editMenuItems: NavItem[] = [\n  {\n    label: 'Routes.Edit.label',\n    authenticationState: AuthenticationState.AdminAuthenticated,\n    dropdown: [\n      {\n        label: 'Routes.Edit.Orders.label',\n        authenticationState: AuthenticationState.AdminAuthenticated,\n        path: '/orders',\n        element: <OrdersEditScreen />,\n      },\n      {\n        label: 'Routes.Edit.Categories.label',\n        authenticationState: AuthenticationState.AdminAuthenticated,\n        path: '/categories',\n        element: <CategoriesEditScreen />,\n      },\n      {\n        label: 'Routes.Edit.Products.label',\n        authenticationState: AuthenticationState.AdminAuthenticated,\n        path: '/products',\n        element: <ProductsEditScreen />,\n      },\n    ],\n  },\n];\n\nconst authMenuItems: NavItem[] = [\n  {\n    label: 'Routes.Auth.label',\n    dropdown: [\n      {\n        label: 'Routes.Auth.SignIn.label',\n        authenticationState: AuthenticationState.Unauthenticated,\n        path: '/auth/SignIn',\n        element: <AuthScreen authAction={AuthAction.SignIn} />,\n      },\n      {\n        label: 'Routes.Auth.SignUp.label',\n        authenticationState: AuthenticationState.Unauthenticated,\n        path: '/auth/SignUp',\n        element: <AuthScreen authAction={AuthAction.SignUp} />,\n      },\n      {\n        label: 'Routes.Auth.SignOut.label',\n        authenticationState: AuthenticationState.Authenticated,\n        path: '/auth/SignOut',\n        element: <AuthScreen authAction={AuthAction.SignOut} />,\n      },\n    ],\n  },\n];\n\nconst profileMenuItems: NavItem[] = [\n  {\n    label: 'Routes.Profile.label',\n    authenticationState: AuthenticationState.Authenticated,\n    path: '/profile',\n    element: <ProfileScreen />,\n  },\n];\n\nexport default [\n  ...homeMenuItems,\n  ...shopMenuItems,\n  ...profileMenuItems,\n  ...editMenuItems,\n  ...authMenuItems,\n];\n","import React from 'react';\nimport cn from 'clsx';\nimport styles from './RootScreen.module.scss';\n\nconst RootScreen: React.FC = () => {\n  return (\n    <>\n      <p>Учебный проект заготовки под магазин.</p>\n      <p>В проекте используются:</p>\n      <ul className={cn(styles.centeredList)}>\n        <li>\n          <span>React</span>\n        </li>\n        <li>\n          <span>React Router Dom</span>\n        </li>\n        <li>\n          <span>Redux</span>\n        </li>\n        <li>\n          <span>RTK Query</span>\n        </li>\n        <li>\n          <span>React Hook Form</span>\n        </li>\n        <li>\n          <span>Чистые формы для фильров</span>\n        </li>\n        <li>\n          <span>Yup</span>\n        </li>\n        <li>\n          <span>i18next</span>\n        </li>\n      </ul>\n      <p>Есть два (минимум) зарегистрированных ползователя.</p>\n      <div className={cn(styles.tab)}>\n        <span className={cn(styles.tabItem)}>user68@example.com</span>\n        <span className={cn(styles.tabItem)}>qqqqqqqq</span>\n      </div>\n      <div className={cn(styles.tab)}>\n        <span className={cn(styles.tabItem)}>qwerty@qwerty.com</span>\n        <span className={cn(styles.tabItem)}>qqqqqqqq</span>\n      </div>\n    </>\n  );\n};\n\nexport default RootScreen;\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport cn from 'clsx';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Loader } from 'src/shared/ui/Loader/Loader';\nimport CatalogFiltersForm from './CatalogFiltersForm/CatalogFiltersForm';\nimport styles from './CatalogScreen.module.scss';\nimport { AppDispatch, RootState } from '../../app/store/store';\nimport { useGetCategoriesQuery } from '../../entities/Category/api/categoryApi';\nimport {\n  useCreateProductMutation,\n  useGetProductsQuery,\n  useUpdateProductMutation,\n} from '../../entities/Product/api/productApi';\nimport ProductItem from '../../entities/Product/ui/ProductItem/ProductItem';\nimport { setQuantity } from '../../features/Cart/model/slice';\nimport useDataListController from '../../shared/hooks/useDataListController';\nimport {\n  Category,\n  MutateProductBody,\n  Product,\n  ProductsFilters,\n} from '../../shared/types/serverTypes';\nimport ComponentFetchList from '../../shared/ui/ComponentFetchList/ComponentFetchList';\nimport PageLayout from '../../shared/ui/PageLayout/PageLayout';\n\nconst CatalogScreen: React.FC = () => {\n  const { t } = useTranslation();\n  const dispatch: AppDispatch = useDispatch();\n  // for categoties only\n  const [categories, setCategories] = useState<Category[]>([]);\n  const firstCategoryRender = useRef(true);\n  const {\n    data: categoryResponseData,\n    isFetching: isFetchingCategories,\n    isSuccess: isSuccessCategories,\n  } = useGetCategoriesQuery(\n    {},\n    {\n      // POSSIBLE WRONG\n      skip: !firstCategoryRender.current,\n    },\n  );\n\n  const categoryData = categoryResponseData?.data;\n  const categoryServerPagination = categoryResponseData?.pagination;\n\n  useEffect(() => {\n    if (\n      categoryData &&\n      !isFetchingCategories &&\n      (categoryServerPagination?.pageNumber !== 1 || firstCategoryRender.current)\n    ) {\n      setCategories((prev) => [...prev, ...categoryData]);\n      firstCategoryRender.current = false;\n    }\n  }, [categoryData, categoryServerPagination, isFetchingCategories]);\n  // for categoties only\n\n  const { items, currentFilters, handlerFiltersChange, handlerFetchItems, error } =\n    useDataListController<Product, ProductsFilters, MutateProductBody>(\n      useGetProductsQuery,\n      useUpdateProductMutation,\n      useCreateProductMutation,\n    );\n\n  const currentCart = useSelector((state: RootState) => state.cart.currentCartEntries);\n\n  const handleSetQuantity = useCallback(\n    (product: Product, quantity: number) => {\n      dispatch(setQuantity({ product, quantity }));\n    },\n    [dispatch],\n  );\n\n  const renderCallback = useCallback(\n    (item: Product) => (\n      <div className={cn(styles.item)} key={item.id}>\n        <ProductItem\n          name={item.name}\n          desc={item.desc}\n          price={item.price}\n          photo={item.photo}\n          count={currentCart.find(({ product }) => product.id === item.id)?.quantity ?? 0}\n          onCountChange={(count) => handleSetQuantity(item, count)}\n        />\n      </div>\n    ),\n    [currentCart, handleSetQuantity],\n  );\n\n  return (\n    <PageLayout\n      footer={\n        <>\n          {error && (\n            <div className={styles.footer}>\n              {/* <div className={styles.error}>{JSON.stringify(error)}</div> */}\n              <div className={styles.error}>\n                {(error as string[]).map((str) => t(str)).join('\\n')}\n              </div>\n            </div>\n          )}\n        </>\n      }\n      header={<></>}\n      sidebar={\n        isSuccessCategories ? (\n          <>\n            <CatalogFiltersForm\n              initialFilters={currentFilters}\n              onChange={handlerFiltersChange}\n              categories={categories}\n            />\n          </>\n        ) : (\n          <Loader />\n        )\n      }\n    >\n      <div className={cn(styles.list)}>\n        <ComponentFetchList\n          items={items}\n          doFetch={handlerFetchItems}\n          render={renderCallback}\n          oneObserve={true}\n        />\n      </div>\n    </PageLayout>\n  );\n};\n\nexport default CatalogScreen;\n","import React, { useCallback, useEffect } from 'react';\nimport cn from 'clsx';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { CartEntry } from 'src/entities/Cart/model/types';\nimport { useCreateOrderMutation } from 'src/entities/Order/api/orderApi';\nimport { Loader } from 'src/shared/ui/Loader/Loader';\nimport styles from './CartScreen.module.scss';\nimport { AppDispatch, RootState } from '../../app/store/store';\nimport { clearCart, setQuantity } from '../../features/Cart/model/slice';\nimport CartItem from '../../features/Cart/ui/CartItem/CartItem';\nimport {\n  MutateOrderBody,\n  MutateOrderProduct,\n  OrderStatus,\n  Product,\n} from '../../shared/types/serverTypes';\nimport Button from '../../shared/ui/Button/Button';\n// import { createOrder } from '../../entities/Order/model/thunks';\nimport ComponentFetchList from '../../shared/ui/ComponentFetchList/ComponentFetchList';\n\nconst CartScreen: React.FC = () => {\n  const { t } = useTranslation();\n\n  const items = useSelector((state: RootState) => state.cart.currentCartEntries);\n\n  const [createOrder, { isLoading, isSuccess, error }] = useCreateOrderMutation();\n\n  const dispatch: AppDispatch = useDispatch();\n\n  const handleIncrement = useCallback(\n    (product: Product, count: number) => {\n      dispatch(setQuantity({ product, quantity: count + 1 }));\n    },\n    [dispatch],\n  );\n\n  const handleDecrement = useCallback(\n    (product: Product, count: number) => {\n      dispatch(setQuantity({ product, quantity: count - 1 }));\n    },\n    [dispatch],\n  );\n\n  const handleInputChange = useCallback(\n    (product: Product, count: number) => {\n      dispatch(setQuantity({ product, quantity: count }));\n    },\n    [dispatch],\n  );\n\n  const renderCallback = useCallback(\n    (item: CartEntry) => (\n      <div key={item.product.id}>\n        <CartItem\n          name={item.product.name}\n          price={item.product.price}\n          photo={item.product.photo}\n          count={item.quantity}\n          onIncrement={() => handleIncrement(item.product, item.quantity)}\n          onDecrement={() => handleDecrement(item.product, item.quantity)}\n          onInputChange={(count) => handleInputChange(item.product, count)}\n        />\n      </div>\n    ),\n    [],\n  );\n\n  const handleCreateOrderClick = useCallback(() => {\n    const orderProducts: MutateOrderProduct[] = items.map((item) => ({\n      id: item.product.id,\n      quantity: item.quantity,\n    }));\n    const order: MutateOrderBody = {\n      products: orderProducts,\n      status: OrderStatus.PendingConfirmation,\n    };\n    createOrder(order);\n  }, [items, dispatch]);\n\n  const total = items.reduce((acc, item) => acc + item.product.price * item.quantity, 0);\n\n  useEffect(() => {\n    if (isSuccess) {\n      dispatch(clearCart());\n    }\n  }, [isSuccess, dispatch]);\n\n  if (items.length === 0) {\n    return <div>{t('CartScreen.emptyCart')}</div>;\n  }\n\n  if (isLoading) {\n    // return <div>{t('CartScreen.loading')}</div>;\n    return <Loader />;\n  }\n\n  return (\n    <div className={styles.layout}>\n      <div className={styles.header} />\n      <div className={styles.content}>\n        <ComponentFetchList\n          items={items}\n          doFetch={() => {\n            /* do nothing */\n          }}\n          render={renderCallback}\n          oneObserve={true}\n        />\n      </div>\n      <div className={cn(styles.footer)}>\n        <div className={styles.error}>\n          {error && (error as string[]).map((str) => t(str)).join('\\n')}\n        </div>\n        {/* {createOrdreError && <div className={styles.error}>{(createOrdreError as string[]).map((str) => t(str)).join('\\n')}</div>} */}\n        <div className={cn(styles.orderWrapper)}>\n          <div className={cn(styles.totalTitle)}>\n            <span>{t('CartScreen.totalTitle')}</span>\n          </div>\n          <div className={cn(styles.total)}>\n            <span>{t('CartScreen.total', { total })}</span>\n          </div>\n          <Button\n            className={styles.button}\n            lable={t('CartScreen.checkoutButton')}\n            onClick={handleCreateOrderClick}\n            disabled={false}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CartScreen;\n","// extracted by mini-css-extract-plugin\nexport default {\"layout\":\"CartScreen-module_layout-JnUXo\",\"content\":\"CartScreen-module_content-xFexd\",\"header\":\"CartScreen-module_header-VtXP0\",\"footer\":\"CartScreen-module_footer-xUbcQ\",\"item\":\"CartScreen-module_item-QbYJW\",\"button\":\"CartScreen-module_button-n7PNJ\",\"orderWrapper\":\"CartScreen-module_orderWrapper-ZixMC\",\"totalTitle\":\"CartScreen-module_totalTitle-Ie0b6\",\"total\":\"CartScreen-module_total-qrkIg\",\"error\":\"CartScreen-module_error-vL_rK\"};","import React, { useCallback, useEffect, useState } from 'react';\nimport cn from 'clsx';\nimport { useGetProfileQuery } from 'src/entities/Profile/api/profileApi';\nimport ComponentFetchList from 'src/shared/ui/ComponentFetchList/ComponentFetchList';\nimport { Loader } from 'src/shared/ui/Loader/Loader';\nimport UserOrdersFiltersForm from './UserOrdersFiltersForm/UserOrdersFiltersForm';\nimport styles from './UserOrdersScreen.module.scss';\nimport {\n  useCreateOrderMutation,\n  useGetOrdersQuery,\n  useUpdateOrderMutation,\n} from '../../entities/Order/api/orderApi';\nimport OrderItem from '../../entities/Order/ui/OrderItem/OrderItem';\nimport OrderProductItem from '../../entities/Product/ui/OrderProductItem/OrderProductItem';\nimport useDataListController from '../../shared/hooks/useDataListController';\nimport { MutateOrderBody, Order, OrdersFilters } from '../../shared/types/serverTypes';\nimport PageLayout from '../../shared/ui/PageLayout/PageLayout';\n\nconst UserOrdersScreen: React.FC = () => {\n  const { data, isUninitialized, isLoading: isLoadingProfile } = useGetProfileQuery();\n  const userId = data?.id;\n\n  const [currentOrder, setCurrentOrder] = useState<Order | null>(null);\n\n  const {\n    items,\n    handlerPermanentFiltersChange,\n    currentFilters,\n    handlerFiltersChange,\n    handlerFetchItems,\n    isLoading: isLoadingOrder,\n  } = useDataListController<Order, OrdersFilters, MutateOrderBody>(\n    useGetOrdersQuery,\n    useUpdateOrderMutation,\n    useCreateOrderMutation,\n  );\n\n  useEffect(() => {\n    handlerPermanentFiltersChange({ userId: userId });\n  }, [userId]);\n\n  const renderCallback = useCallback(\n    (item: Order) => (\n      <div\n        className={cn({ [styles.selectedOrder]: currentOrder === item })}\n        key={item.id}\n        onClick={() => handleClick(item)}\n      >\n        <OrderItem\n          createdAt={item.createdAt}\n          updatedAt={item.updatedAt}\n          status={item.status}\n          totalPrice={item.products.reduce(\n            (total, product) => total + product.product.price * product.quantity,\n            0,\n          )}\n        />\n      </div>\n    ),\n    [currentOrder],\n  );\n\n  const handleClick = (order: Order) => {\n    setCurrentOrder((prev) => (prev === order ? null : order));\n  };\n\n  if (isUninitialized || isLoadingOrder || isLoadingProfile) {\n    // return <div>{'loading'}</div>;\n    return <Loader />;\n  }\n\n  return (\n    <>\n      <PageLayout\n        header={<></>}\n        footer={<></>}\n        sidebar={\n          <UserOrdersFiltersForm initialFilters={currentFilters} onChange={handlerFiltersChange} />\n        }\n      >\n        <div className={styles.content}>\n          <div className={styles.orders}>\n            <ComponentFetchList\n              doFetch={handlerFetchItems}\n              items={items}\n              render={renderCallback}\n              oneObserve={true}\n            />\n          </div>\n          <div className={styles.products}>\n            {currentOrder &&\n              currentOrder.products.map((item) => (\n                <div key={item._id}>\n                  <OrderProductItem\n                    photo={item.product.photo}\n                    name={item.product.name}\n                    price={item.product.price}\n                    quantity={item.quantity}\n                  />\n                </div>\n              ))}\n          </div>\n        </div>\n      </PageLayout>\n    </>\n  );\n};\n\nexport default UserOrdersScreen;\n","import React, { useCallback, useState } from 'react';\nimport cn from 'clsx';\nimport EditOrderItem from 'src/entities/Order/ui/EditOrderItem/EditOrderItem';\nimport ComponentFetchList from 'src/shared/ui/ComponentFetchList/ComponentFetchList';\nimport styles from './OrdersEditScreen.module.scss';\nimport OrdersFiltersForm from './OrdersFiltersForm/OrdersFiltersForm';\nimport {\n  useCreateOrderMutation,\n  useGetOrdersQuery,\n  useUpdateOrderMutation,\n} from '../../entities/Order/api/orderApi';\nimport OrderProductItem from '../../entities/Product/ui/OrderProductItem/OrderProductItem';\nimport useDataListController from '../../shared/hooks/useDataListController';\nimport { MutateOrderBody, Order, OrdersFilters, OrderStatus } from '../../shared/types/serverTypes';\nimport PageLayout from '../../shared/ui/PageLayout/PageLayout';\n\nconst OrdersEditScreen: React.FC = () => {\n  const [currentOrder, setCurrentOrder] = useState<Order | null>(null);\n\n  const { items, currentFilters, handlerFiltersChange, handlerFetchItems, handlerEditItem } =\n    useDataListController<Order, OrdersFilters, MutateOrderBody>(\n      useGetOrdersQuery,\n      useUpdateOrderMutation,\n      useCreateOrderMutation,\n    );\n\n  const handlerStatusChange = useCallback(\n    (status: OrderStatus, item: Order) => {\n      const oldItem = items.find((i) => i.id === item.id);\n      if (oldItem) {\n        const body: MutateOrderBody = {\n          status: status,\n          products: oldItem.products.map((product) => ({\n            id: product.product.id,\n            quantity: product.quantity,\n          })),\n        };\n        handlerEditItem(item.id, body);\n      }\n    },\n    [items],\n  );\n  console.log('currentOrder', currentOrder);\n  const renderCallback = useCallback(\n    (item: Order) => (\n      <div\n        className={cn({ [styles.selectedOrder]: currentOrder === item })}\n        key={item.id}\n        onClick={() => handleClick(item)}\n      >\n        <EditOrderItem\n          createdAt={item.createdAt}\n          updatedAt={item.updatedAt}\n          status={item.status}\n          totalPrice={item.products.reduce(\n            (total, product) => total + product.product.price * product.quantity,\n            0,\n          )}\n          id={item.id}\n          email={item.user.name ?? ''}\n          onStatusChange={(status: OrderStatus) => handlerStatusChange(status, item)}\n        />\n      </div>\n    ),\n    [currentOrder],\n  );\n\n  const handleClick = (order: Order) => {\n    setCurrentOrder((prev) => (prev === order ? null : order));\n  };\n\n  return (\n    <>\n      <PageLayout\n        header={<></>}\n        footer={<></>}\n        sidebar={\n          <OrdersFiltersForm initialFilters={currentFilters} onChange={handlerFiltersChange} />\n        }\n      >\n        <div className={styles.content}>\n          <div className={styles.orders}>\n            <ComponentFetchList\n              doFetch={handlerFetchItems}\n              items={items}\n              render={renderCallback}\n              oneObserve={true}\n            />\n          </div>\n          <div className={styles.products}>\n            {currentOrder &&\n              currentOrder.products.map((item) => (\n                <div key={item._id}>\n                  <OrderProductItem\n                    photo={item.product.photo}\n                    name={item.product.name}\n                    price={item.product.price}\n                    quantity={item.quantity}\n                  />\n                </div>\n              ))}\n          </div>\n        </div>\n      </PageLayout>\n    </>\n  );\n};\n\nexport default OrdersEditScreen;\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"CategoriesEditScreen-module_item-SJZIs\",\"wrapper\":\"CategoriesEditScreen-module_wrapper-cx7T7\",\"content\":\"CategoriesEditScreen-module_content-vDozL\",\"addButton\":\"CategoriesEditScreen-module_addButton-RyuJp\",\"footer\":\"CategoriesEditScreen-module_footer-Vm0Gi\",\"error\":\"CategoriesEditScreen-module_error-bSt4z\"};","// extracted by mini-css-extract-plugin\nexport default {\"page\":\"ProfileScreen-module_page-Ap_DT\",\"title\":\"ProfileScreen-module_title-Qh_1l\",\"error\":\"ProfileScreen-module_error-uKEst\"};","import { Component, ErrorInfo, ReactNode } from 'react';\nimport { isServerError } from 'src/shared/lib/errorsCast';\nimport { errorsToStrings } from 'src/shared/lib/errorsToStrings';\n\ninterface ErrorBoundaryProps {\n  children: ReactNode;\n}\n\ninterface ErrorBoundaryState {\n  hasError: boolean;\n  error: Error | null;\n}\n\nexport class ErrorBoundary extends Component<ErrorBoundaryProps, ErrorBoundaryState> {\n  state: ErrorBoundaryState = {\n    hasError: false,\n    error: null,\n  };\n\n  static getDerivedStateFromError(error: unknown): ErrorBoundaryState {\n    if (isServerError(error)) {\n      return { hasError: true, error: new Error(errorsToStrings(error).join(',\\n')) };\n    } else if (isMessage(error)) {\n      return { hasError: true, error: new Error(error.message) };\n    }\n\n    return { hasError: true, error: new Error('Unknown error.') };\n  }\n\n  componentDidCatch(error: unknown, errorInfo: ErrorInfo) {\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\n  }\n\n  handlerRetry = () => {\n    this.setState({ error: null });\n  };\n\n  render() {\n    if (this.state.error) {\n      console.log('try render error boundary');\n      return (\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'center',\n          }}\n        >\n          <span>Здесь могла быть ваша реклама</span>\n          <span>{this.state.error.message}</span>\n          <button onClick={this.handlerRetry}>Перепытаться</button>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\nconst isMessage = (error: unknown): error is { message: string } => {\n  if (typeof error !== 'object' || error === null) {\n    return false;\n  }\n\n  if ('message' in error && typeof (error as { message: unknown }).message === 'string') {\n    return true;\n  }\n\n  return false;\n};\n","import React, { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { setNavigate } from '../../shared/lib/navigationService';\n\nexport const NavigationProvider = ({ children }: { children: React.ReactNode }) => {\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    setNavigate(navigate);\n  }, [navigate]);\n\n  return <>{children}</>;\n};\n","import { baseApi } from '../../shared/api/baseApi';\n\nexport const apiMiddleware = baseApi.middleware;\nexport const apiReducer = baseApi.reducer;\nexport const apiReducerPath = baseApi.reducerPath;\n","import { configureStore } from '@reduxjs/toolkit';\nimport authReducer from '../../features/Auth/model/slice';\nimport cartReducer from '../../features/Cart/model/slice';\nimport { apiMiddleware, apiReducer, apiReducerPath } from '../api/api';\n\nexport const store = configureStore({\n  reducer: {\n    [apiReducerPath]: apiReducer,\n    auth: authReducer,\n    cart: cartReducer,\n  },\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(apiMiddleware), //, productApi.middleware, categoryApi.middleware, orderApi.middleware),\n  devTools: process.env.NODE_ENV !== 'production',\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\nexport type AppStore = typeof store;\n","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Languages } from '../../../app/localization/settings';\nimport { LanguageContext } from '../../contexts/LanguageContext/LanguageContext';\n\nexport const LanguageProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const { i18n } = useTranslation();\n  const [currentLanguage, setCurrentLanguage] = useState(i18n.language as Languages);\n\n  const switchLanguage = (language: Languages) => {\n    i18n.changeLanguage(language);\n    setCurrentLanguage(language);\n  };\n\n  return (\n    <LanguageContext.Provider value={{ currentLanguage, switchLanguage }}>\n      {children}\n    </LanguageContext.Provider>\n  );\n};\n","import React, { useState, ReactNode, useEffect } from 'react';\nimport {\n  darkTheme,\n  lightTheme,\n  Theme,\n  ThemeContext,\n} from '../../contexts/ThemeContext/ThemeContext';\n\ntype ThemeProviderProps = {\n  children: ReactNode;\n};\n\nconst ThemeProvider: React.FC<ThemeProviderProps> = ({ children }) => {\n  const [theme, setTheme] = useState<Theme>(lightTheme);\n\n  const toggleTheme = () => {\n    setTheme((prevTheme) => (prevTheme === lightTheme ? darkTheme : lightTheme));\n  };\n\n  useEffect(() => {\n    document?.body?.parentElement?.setAttribute('data-theme', theme);\n  }, [theme]);\n\n  return <ThemeContext.Provider value={{ theme, toggleTheme }}>{children}</ThemeContext.Provider>;\n};\nexport default ThemeProvider;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './app/index.scss';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport App from './app/App';\nimport { store } from './app/store/store';\n\nconst root = ReactDOM.createRoot(document.getElementById('root') as HTMLElement);\nroot.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </Provider>\n  </React.StrictMode>,\n);\n","import React, { useEffect } from 'react';\nimport cn from 'clsx';\nimport { useDispatch } from 'react-redux';\nimport { Route, Routes } from 'react-router-dom';\nimport AuthScreen, { AuthAction } from 'src/pages/AuthScreen/AuthScreen';\nimport styles from './App.module.scss';\nimport Layout from './Layout/Layout';\nimport './localization';\nimport menuItems from './menu/menuItems';\nimport { ErrorBoundary } from './providers/ErrorBoundary';\nimport { NavigationProvider } from './providers/NavigationProvider';\nimport { setupAuthSync } from './services/setupAuthSync';\nimport { AppDispatch } from './store/store';\nimport { setAuthenticated } from '../features/Auth/model/slice';\nimport { ROUTES } from '../shared/configs/routes';\nimport { WithAuthenticationState } from '../shared/hocs/withAuthenticationState';\nimport { getAccessToken } from '../shared/lib/localStorage';\nimport { LanguageProvider } from '../shared/providers/LanguageProvider/LanguageProvider';\nimport ThemeProvider from '../shared/providers/ThemeProvider/ThemeProvider';\n// import { getProfile } from '../entities/User/model/thunks';\n\nconst App = () => {\n  const dispatch: AppDispatch = useDispatch();\n\n  useEffect(() => {\n    if (getAccessToken()) {\n      // dispatch(getProfile());\n      const token = getAccessToken();\n      dispatch(setAuthenticated({ token }));\n    }\n    setupAuthSync();\n  }, []);\n\n  const generateRoutes = (items: typeof menuItems, rootRoute: string, signInRoute: string) => {\n    return [\n      ...items.map((item) => {\n        if (item.dropdown) {\n          return (\n            <React.Fragment key={item.path + item.label}>\n              <Route\n                path={item.path ?? undefined}\n                element={\n                  <WithAuthenticationState\n                    authenticationState={item.authenticationState}\n                    routes={{ root: rootRoute, signIn: signInRoute }}\n                  >\n                    {item.element}\n                  </WithAuthenticationState>\n                }\n              />\n              {generateRoutes(item.dropdown, rootRoute, signInRoute)}\n            </React.Fragment>\n          );\n        }\n        return (\n          <React.Fragment key={item.path + item.label}>\n            <Route\n              path={item.path ?? undefined}\n              element={\n                <WithAuthenticationState\n                  authenticationState={item.authenticationState}\n                  routes={{ root: rootRoute, signIn: signInRoute }}\n                >\n                  {item.element}\n                </WithAuthenticationState>\n              }\n            />\n          </React.Fragment>\n        );\n      }),\n    ];\n  };\n  return (\n    <ThemeProvider>\n      <LanguageProvider>\n        <NavigationProvider>\n          <ErrorBoundary>\n            <div className={cn(styles.app)}>\n              <Routes>\n                <Route path=\"/\" element={<Layout menuItems={menuItems} />}>\n                  {generateRoutes(menuItems, ROUTES.ROOT, ROUTES.SIGNIN)}\n                  <Route\n                    path={ROUTES.AUTHENTICATED_SIGNIN}\n                    element={<AuthScreen authAction={AuthAction.SignIn} />}\n                  />\n                </Route>\n              </Routes>\n            </div>\n          </ErrorBoundary>\n        </NavigationProvider>\n      </LanguageProvider>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import { setAuthenticated, signout } from '../../features/Auth/model/slice';\nimport { getTokenFromLocalStorage, TOKEN_KEY } from '../../shared/lib/localStorage';\nimport { store } from '../store/store';\n\nexport const setupAuthSync = () => {\n  window.addEventListener('storage', (event) => {\n    if (event.key === TOKEN_KEY) {\n      if (event.newValue) {\n        const token = getTokenFromLocalStorage();\n        store.dispatch(setAuthenticated({ token }));\n      } else {\n        store.dispatch(signout());\n      }\n    }\n  });\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"app\":\"App-module_app-dEm8E\",\"appLogo\":\"App-module_appLogo-cKtSQ\",\"appLogoSpin\":\"App-module_App-logo-spin-idCWo\",\"appHeader\":\"App-module_appHeader-b4ZSg\",\"appLink\":\"App-module_appLink-oaunG\"};"],"names":["___CSS_LOADER_EXPORT___","push","module","id","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","API_BASE_URL","TOKEN_KEY","getTokenFromLocalStorage","localStorage","getItem","getAccessToken","saveToken","token","setItem","resetState","initialState","isAuthenticated","authSlice","name","reducers","setAuthenticated","state","action","payload","signout","removeItem","extraReducers","builder","addCase","actions","ROUTES","isServerError","error","Array","isArray","errors","ErrorCode","OrderStatus","errorsToStrings","forEach","err","console","extensions","code","message","fieldName","map","ERR_INCORRECT_EMAIL_OR_PASSWORD","ERR_ACCOUNT_ALREADY_EXIST","ERR_INCORRECT_PASSWORD","ERR_INVALID_PASSWORD","getLocalizedErrorMessage","baseQuery","baseUrl","prepareHeaders","headers","set","baseApi","reducerPath","tagTypes","args","api","extraOptions","result","fetchError","log","status","warn","data","endpoints","authApi","injectEndpoints","signin","mutation","query","body","url","method","invalidatesTags","signup","useSigninMutation","useSignupMutation","Loader","className","lable","disabled","onClick","type","wrapper","buttonDisable","buttonEnable","button","undefined","onSubmit","register","handleSubmit","formState","t","email","required","pattern","value","placeholder","password","onSignOut","useEffect","to","replace","watch","minLength","passwordLength","confirmPassword","validate","AuthAction","authAction","navigate","signIn","signUp","signOut","isLoading","dispatch","isLoadingSignin","isError","isErrorSignin","errorSignin","isLoadingSignup","isErrorSignup","errorSignup","commandId","signInContent","SignIn","e","preventDefault","length","signUpContent","SignUp","signOutContent","SignOut","str","join","productsInCart","cart","currentCartEntries","src","alt","children","Languages","use","init","resources","en","translation","ru","fallbackLng","interpolation","format","lng","style","currency","currencyDisplay","Intl","NumberFormat","date","Date","DateTimeFormat","escapeValue","LanguageContext","createContext","currentLanguage","switchLanguage","context","useContext","Error","hidden","cursor","AuthenticationState","WithAuthenticationState","authenticationState","routes","auth","AdminAuthenticated","Authenticated","Unauthenticated","root","WrappedComponent","props","restProps","menuItems","AuthNavLink","item","path","label","dropdown","subItem","lightTheme","ThemeContext","theme","toggleTheme","memo","createdAt","updatedAt","totalPrice","onStatusChange","onChange","target","Object","values","statusKey","items","render","doFetch","oneObserve","targetRef","useRef","ref","onIntersect","observer","IntersectionObserver","entry","isIntersecting","current","currentRef","observe","unobserve","threshold","index","orderFilterSchema","optional","ids","productIds","userId","oneOf","Delivered","InTransit","OrderCancelled","Packaging","PendingConfirmation","Processing","ReturnRequested","WaitingForDelivery","dateIntervalSchema","gte","lte","when","schema","test","commonFiltersSchema","pagination","pageSize","integer","min","pageNumber","sorting","field","noUnknown","CommonFiltersForm","initialFilters","childrenSchema","childrenSchemas","filterFormSchema","concat","localFilters","setLocalFilters","useState","setErrors","handleChange","key","abortEarly","then","catch","validationErrors","inner","flexDirection","display","filters","stringifyObject","obj","JSON","stringify","toString","orderApi","getOrders","URLSearchParams","parse","updateOrder","patchOrder","createOrder","newOrder","useGetOrdersQuery","useUpdateOrderMutation","usePatchOrderMutation","useCreateOrderMutation","photo","price","quantity","unexpectedErrorBounce","canCastToExtendedFetchError","useQueryHook","useUpdateMutation","useCreateMutation","setPagination","permanentFilters","setPermanentFilters","setItems","currentFilters","setCurrentFilters","firstRender","reset","setReset","ResponseData","isFetching","isErrorQuery","isSuccess","errorQuery","serverPagination","prevItems","handlerFiltersChange","useCallback","prev","handlerFetchItems","total","updateItem","isErrorUpdate","errorUpdate","createItem","isErrorCreate","errorCreate","handlerEditItem","res","editingItem","setEditingItem","handlerAddClick","defaultItem","handlerEditClick","clearEditItem","handlerPermanentFiltersChange","header","footer","sidebar","isSidebarVisible","setIsSidebarVisible","createOrderStatus","createOrdreError","cartEntrySlice","addToCart","removeFromCart","filter","product","setQuantity","existingItem","find","clearCart","addMatcher","matchPending","matchFulfilled","matchRejected","count","max","onIncrement","onDecrement","onInputChange","event","Number","createProductFiltersSchema","validCategiryIds","categoryIds","categories","getFirst","array","categoryId","productFilterSchema","category","categoryApi","getCategories","updateCategory","createCategory","newCategory","useGetCategoriesQuery","useUpdateCategoryMutation","useCreateCategoryMutation","productApi","getProducts","updateProduct","createProduct","newProduct","useGetProductsQuery","useUpdateProductMutation","useCreateProductMutation","onCountChange","button_disable","button_enable","desc","withButton","substring","visibility","categoryFilterSchema","defaultValues","setValue","clearErrors","setError","width","alignItems","gap","trim","startsWith","file","files","FormData","append","response","fetch","Authorization","ok","json","htmlFor","whiteSpace","ComponentWithEditMode","onEdit","rest","displayName","visible","setVisible","createPortal","document","EditCategoryItem","control","oldPrice","rules","cat","EditProductItem","newPassword","oldPassword","userName","profileApi","getProfile","providesTags","updateProfile","changePassword","useGetProfileQuery","useUpdateProfileMutation","useChangePasswordMutation","orderStatus","homeMenuItems","element","shopMenuItems","setCategories","firstCategoryRender","categoryResponseData","isFetchingCategories","isSuccessCategories","skip","categoryData","categoryServerPagination","currentCart","handleSetQuantity","renderCallback","list","handleIncrement","handleDecrement","handleInputChange","handleCreateOrderClick","order","products","reduce","acc","isUninitialized","isLoadingProfile","currentOrder","setCurrentOrder","isLoadingOrder","handleClick","_id","editMenuItems","handlerStatusChange","oldItem","i","user","categoryNames","setCategoryNames","addButton","description","_category","authMenuItems","currentUser","profileIsLoading","profileError","updateProfileError","changePasswordError","handleEditProfileSubmit","handleChangePasswordSubmit","ErrorBoundary","Component","hasError","this","setState","getDerivedStateFromError","isMessage","componentDidCatch","errorInfo","justifyContent","handlerRetry","NavigationProvider","apiMiddleware","middleware","apiReducer","reducer","apiReducerPath","store","getDefaultMiddleware","devTools","LanguageProvider","i18n","setCurrentLanguage","language","Provider","changeLanguage","setTheme","parentElement","setAttribute","prevTheme","getElementById","window","addEventListener","newValue","generateRoutes","rootRoute","signInRoute"],"sourceRoot":""}